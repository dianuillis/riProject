<?xml version="1.0" encoding="UTF-8"?>
<!-- generated by CLiX/Wiki2XML [MPI-Inf, MMCI@UdS] $LastChangedRevision: 92 $ on 16.04.2009 18:23:48[mciao0826] -->
<!DOCTYPE article SYSTEM "../article.dtd">
<article xmlns:xlink="http://www.w3.org/1999/xlink">
<header>
<title>Reverse DNS lookup</title>
<id>1286913</id>
<revision>
<id>233088453</id>
<timestamp>2008-08-20T10:44:11Z</timestamp>
<contributor>
<username>Robbot</username>
<id>25261</id>
</contributor>
</revision>
<categories>
<category>Searching</category>
<category>Domain name system</category>
</categories>
</header>
<bdy>

This article is about the Network process of Reverse DNS lookup.&#32;&#32;For the <link>
Java</link>-like naming convention, see <link xlink:type="simple" xlink:href="../714/12236714.xml">
Reverse-DNS</link>.&#32;&#32;
<b>Reverse DNS lookup</b> (rDNS) is a process to determine the <link xlink:type="simple" xlink:href="../421/611421.xml">
hostname</link> or host associated with a given <link xlink:type="simple" xlink:href="../921/14921.xml">
IP address</link> or host address.
<sec>
<st>
Overview</st>

<p>

Typically, the <message wordnetid="106598915" confidence="0.8">
<protocol wordnetid="106665108" confidence="0.8">
<direction wordnetid="106786629" confidence="0.8">
<rule wordnetid="106652242" confidence="0.8">
<link xlink:type="simple" xlink:href="../339/8339.xml">
Domain Name System</link></rule>
</direction>
</protocol>
</message>
 is used to determine what <link xlink:type="simple" xlink:href="../921/14921.xml">
IP address</link> is associated with a given <link xlink:type="simple" xlink:href="../878/39878.xml">
domain name</link>. So, to reverse-resolve a known IP address is to look up what host and domain name belongs to that IP address.  </p>
<p>

A reverse lookup is often referred to as <b>reverse resolving</b>, or more specifically <b>reverse DNS lookup</b>, and is accomplished using a "reverse IN-ADDR entry" in the form of a <link>
PTR record</link>.</p>

</sec>
<sec>
<st>
Reverse DNS requirement</st>
<p>

RFC 1033 in the "INSTRUCTIONS" section, and later, RFC 1912 Section 2.1 states "Every Internet-reachable host should have a name" and "Make sure your PTR and A records match".</p>

</sec>
<sec>
<st>
IPv4 Reverse DNS</st>
<p>

Reverse DNS lookups for <message wordnetid="106598915" confidence="0.8">
<protocol wordnetid="106665108" confidence="0.8">
<standard wordnetid="107260623" confidence="0.8">
<direction wordnetid="106786629" confidence="0.8">
<rule wordnetid="106652242" confidence="0.8">
<system_of_measurement wordnetid="113577171" confidence="0.8">
<link xlink:type="simple" xlink:href="../317/15317.xml">
IPv4</link></system_of_measurement>
</rule>
</direction>
</standard>
</protocol>
</message>
 addresses use a <b>reverse IN-ADDR entry</b> in the special domain in-addr.arpa. An IPv4 address is represented in the in-addr.arpa domain by a sequence of bytes in reverse order, represented as decimal numbers, separated by dots with the suffix .in-addr.arpa. For example, the reverse lookup domain name corresponding to the IPv4 address 10.12.13.140 is 140.13.12.10.in-addr.arpa. A host name for 1.2.3.4 can be obtained by issuing a DNS query for the <link>
PTR record</link> for that special address 4.3.2.1.in-addr.arpa.</p>

<ss1>
<st>
Classless Reverse DNS</st>
<p>

Historically, <link xlink:type="simple" xlink:href="../921/14921.xml">
IP addresses</link> were allocated in blocks of 256.  Thus, each block fell upon an octet boundary.  This made configuration of the PTR records easy, since the dot separators delimited each block.  Today however, IP addresses are allocated in much smaller blocks, and hence the traditional way of configuring a nameserver to perform reverse DNS cannot work.  A means of overcoming this problem was devised and published as RFC 2317.  It uses a CNAME entry which corresponds to each block.</p>

</ss1>
</sec>
<sec>
<st>
IPv6 Reverse Lookup</st>
<p>

Reverse DNS lookups for <message wordnetid="106598915" confidence="0.8">
<protocol wordnetid="106665108" confidence="0.8">
<direction wordnetid="106786629" confidence="0.8">
<rule wordnetid="106652242" confidence="0.8">
<link xlink:type="simple" xlink:href="../318/15318.xml">
IPv6</link></rule>
</direction>
</protocol>
</message>
 addresses use similarly the special domain ip6.arpa. An IPv6 address is represented as a name in the ip6.arpa domain by a sequence of <link xlink:type="simple" xlink:href="../150/21150.xml">
nibble</link>s in reverse order, represented as hexadecimal digits, separated by dots with the suffix .ip6.arpa. For example, the reverse lookup domain name corresponding to the IPv6 address 4321:0:1:2:3:4:567:89ab is b.a.9.8.7.6.5.0.4.0.0.0.3.0.0.0.2.0.0.0.1.0.0.0.0.0.0.0.1.2.3.4.ip6.arpa.</p>

</sec>
<sec>
<st>
Multiple PTR records</st>
<p>

While most rDNS entries only have one PTR record, it is perfectly legal to have many different PTR records <ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%221%22])">1</ref>. However, having multiple PTR records for the same IP address is generally not recommended unless there is a specific need.  For example, if a webserver supports many <link xlink:type="simple" xlink:href="../617/407617.xml">
virtual host</link>s, there can be one PTR record for each host and some versions of name server software will automatically add a PTR record for each host.  Multiple PTR records can cause a couple of problems, including triggering bugs in programs that only expect there to ever be a single PTR record and, in the case of a large webserver, having hundreds of PTR records can cause the DNS packets to be much larger than normal.</p>

</sec>
<sec>
<st>
Records other than PTR records</st>
<p>

While uncommon compared with PTR records, it is also legal to put other types of records in the reverse DNS tree.  In particular, encryption keys can be placed there for, example,  <message wordnetid="106598915" confidence="0.8">
<protocol wordnetid="106665108" confidence="0.8">
<direction wordnetid="106786629" confidence="0.8">
<rule wordnetid="106652242" confidence="0.8">
<link xlink:type="simple" xlink:href="../342/43342.xml">
IPsec</link></rule>
</direction>
</protocol>
</message>
 (RFC 4025), <message wordnetid="106598915" confidence="0.8">
<protocol wordnetid="106665108" confidence="0.8">
<standard wordnetid="107260623" confidence="0.8">
<direction wordnetid="106786629" confidence="0.8">
<rule wordnetid="106652242" confidence="0.8">
<system_of_measurement wordnetid="113577171" confidence="0.8">
<link xlink:type="simple" xlink:href="../814/28814.xml">
SSH</link></system_of_measurement>
</rule>
</direction>
</standard>
</protocol>
</message>
 (RFC 4255) and <link xlink:type="simple" xlink:href="../900/99900.xml">
IKE</link> (RFC 4322).  Less standardized usages include comments placed in <link>
TXT record</link>s and <link xlink:type="simple" xlink:href="../612/2106612.xml">
LOC record</link>s to identify the location of the IP address.</p>

</sec>
<sec>
<st>
Uses</st>
<p>

The most common uses of the reverse DNS are:</p>
<p>

<list>
<entry level="1" type="bullet">

 The original use of the rDNS was primarily for network troubleshooting tools, such as <link xlink:type="simple" xlink:href="../448/31448.xml">
traceroute</link>, <link xlink:type="simple" xlink:href="../265/24265.xml">
ping</link>, and the "Received:" trace header field for <link>
SMTP</link> e-mail, web sites tracking users (especially on <link xlink:type="simple" xlink:href="../813/294813.xml">
Internet forum</link>s), etc.</entry>
</list>
</p>
<p>

<list>
<entry level="1" type="bullet">

 One <link xlink:type="simple" xlink:href="../737/313737.xml">
e-mail anti-spam technique</link> is to check the domain names in the rDNS to see if they are likely from dialup users, dynamically assigned addresses, or other inexpensive internet services.  Owners of such IP addresses typically assign them generic rDNS names such as "1-2-3-4-dynamic-ip.example.com."  Since the vast majority, but by no means all, of e-mail that originates from these computers is spam, many spam filters refuse e-mail with such rDNS names. <ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%222%22])">2</ref><ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%223%22])">3</ref></entry>
</list>
</p>
<p>

<list>
<entry level="1" type="bullet">

 A <link xlink:type="simple" xlink:href="../942/1609942.xml">
Forward Confirmed reverse DNS</link> (FCrDNS) verification can create a form of authentication showing a valid relationship between the owner of a domainname and the owner of the server that has been given an IP address. While not very thorough, this validation is strong enough to often be used for <link xlink:type="simple" xlink:href="../369/182369.xml">
whitelist</link>ing purposes, mainly because <practice wordnetid="100410247" confidence="0.8">
<event wordnetid="100029378" confidence="0.8">
<act wordnetid="100030358" confidence="0.8">
<psychological_feature wordnetid="100023100" confidence="0.8">
<activity wordnetid="100407535" confidence="0.8">
<link xlink:type="simple" xlink:href="../368/28368.xml">
spammers</link></activity>
</psychological_feature>
</act>
</event>
</practice>
 and <accomplishment wordnetid="100035189" confidence="0.8">
<occupation wordnetid="100582388" confidence="0.8">
<transgression wordnetid="100745005" confidence="0.8">
<event wordnetid="100029378" confidence="0.8">
<crime wordnetid="100766234" confidence="0.8">
<wrongdoing wordnetid="100732746" confidence="0.8">
<action wordnetid="100037396" confidence="0.8">
<act wordnetid="100030358" confidence="0.8">
<psychological_feature wordnetid="100023100" confidence="0.8">
<feat wordnetid="100036762" confidence="0.8">
<activity wordnetid="100407535" confidence="0.8">
<link xlink:type="simple" xlink:href="../364/428364.xml">
phishers</link></activity>
</feat>
</psychological_feature>
</act>
</action>
</wrongdoing>
</crime>
</event>
</transgression>
</occupation>
</accomplishment>
 usually can't pass verification for it when they use <link xlink:type="simple" xlink:href="../566/531566.xml">
zombie computer</link>s to forge domains.</entry>
</list>
</p>

</sec>
<sec>
<st>
External links</st>
<p>

<list>
<entry level="1" type="bullet">

<weblink xlink:type="simple" xlink:href="http://www.dmoz.org/Computers/Internet/Protocols/DNS/Web_Tools//">
Web-based DNS lookup tools</weblink> at the <work wordnetid="100575741" confidence="0.8">
<possession wordnetid="100032613" confidence="0.8">
<event wordnetid="100029378" confidence="0.8">
<company wordnetid="108058098" confidence="0.8">
<undertaking wordnetid="100795720" confidence="0.8">
<property wordnetid="113244109" confidence="0.8">
<act wordnetid="100030358" confidence="0.8">
<psychological_feature wordnetid="100023100" confidence="0.8">
<activity wordnetid="100407535" confidence="0.8">
<subsidiary_company wordnetid="108003935" confidence="0.8">
<institution wordnetid="108053576" confidence="0.8">
<link xlink:type="simple" xlink:href="../501/18949501.xml">
Open Directory Project</link></institution>
</subsidiary_company>
</activity>
</psychological_feature>
</act>
</property>
</undertaking>
</company>
</event>
</possession>
</work>
</entry>
<entry level="1" type="bullet">

RFC 2317 documents a way to do rDNS delegation for <standard wordnetid="107260623" confidence="0.8">
<system_of_measurement wordnetid="113577171" confidence="0.8">
<link xlink:type="simple" xlink:href="../404/38404.xml">
CIDR</link></system_of_measurement>
</standard>
 blocks</entry>
<entry level="1" type="bullet">

<weblink xlink:type="simple" xlink:href="http://tools.ietf.org/html/draft-ietf-dnsop-reverse-mapping-considerations">
Considerations for the use of DNS Reverse Mapping</weblink> (<link xlink:type="simple" xlink:href="../609/1136609.xml">
Internet draft</link>)</entry>
<entry level="1" type="bullet">

<weblink xlink:type="simple" xlink:href="http://www.robert.net/ccTLD/ARPA/IN-ADDR">
in-addr.arpa Zone file analysis</weblink></entry>
</list>
</p>

</sec>
<sec>
<st>
 References </st>
<p>

<reflist>
<entry id="1">
<weblink xlink:type="simple" xlink:href="http://tools.ietf.org/html/draft-ietf-dnsop-reverse-mapping-considerations">
draft on ietf.org</weblink></entry>
<entry id="2">
<weblink xlink:type="simple" xlink:href="http://www.spamhaus.org/faq/answers.lasso?section=ISP%20Spam%20Issues#131">
spamhaus's FAQ</weblink></entry>
<entry id="3">
<weblink xlink:type="simple" xlink:href="http://postmaster.aol.com/info/rdns.html">
reference page from AOL</weblink></entry>
</reflist>
</p>


</sec>
</bdy>
</article>
