<?xml version="1.0" encoding="UTF-8"?>
<!-- generated by CLiX/Wiki2XML [MPI-Inf, MMCI@UdS] $LastChangedRevision: 92 $ on 17.04.2009 05:28:58[mciao0825] -->
<!DOCTYPE article SYSTEM "../article.dtd">
<article xmlns:xlink="http://www.w3.org/1999/xlink">
<header>
<title>Discounted cumulative gain</title>
<id>19542049</id>
<revision>
<id>242631582</id>
<timestamp>2008-10-03T00:33:29Z</timestamp>
<contributor>
<username>Drmadskills</username>
<id>6332139</id>
</contributor>
</revision>
<categories>
<category>Information retrieval</category>
</categories>
</header>
<bdy>

<b>DCG</b> (<b>discounted cumulative gain</b>) is a measure of effectiveness of a <link xlink:type="simple" xlink:href="../454/33454.xml">
Web</link> <link xlink:type="simple" xlink:href="../023/4059023.xml">
search engine</link> <link xlink:type="simple" xlink:href="../775/775.xml">
algorithm</link> or related applications, often used in <link xlink:type="simple" xlink:href="../271/15271.xml">
information retrieval</link>. Using a <link xlink:type="simple" xlink:href="../684/442684.xml">
graded relevance</link> scale of documents in a search engine result set, DCG measures the usefulness, or <it>gain</it>, of a document based on its position in the result list. The gain is accumulated cumulatively from the top of the result list to the bottom with the gain of each result discounted at lower ranks.
<sec>
<st>
 Mathematical Details </st>

<p>

Two <link xlink:type="simple" xlink:href="../808/307808.xml">
assumptions</link> are made in using DCG and its related measures.</p>
<p>

<list>
<entry level="1" type="number">

 Highly relevant documents are more useful when appearing earlier in a search engine result list (have higher ranks)</entry>
<entry level="1" type="number">

 Highly relevant documents are more useful than marginally relevant documents, which are in turn more useful than irrelevant documents.</entry>
</list>
</p>
<p>

DCG originates from an earlier, more primitive, measure called Cumulative Gain.</p>

<ss1>
<st>
 Cumulative Gain </st>

<p>

Cumulative Gain (CG) is the <link xlink:type="simple" xlink:href="../802/325802.xml">
predecessor</link> of DCG and does not include the position of a result in the consideration of the usefulness of a result set. In this way, it is the sum of the graded relevance values of all results in a search result list. The CG at a particular rank position <math>p</math> is defined as:</p>
<p>

<indent level="1">

<math> \mathrm{CG_{p}} = \sum_{i=1}^{p} rel_{i} </math>
</indent>

Where <math>rel_{i}</math> is the graded relevance of the result at position <math>i</math>.</p>
<p>

The value computed with the CG function is unaffected by changes in the ordering of search results. That is, moving a highly relevant document <math>d_{i}</math> above a higher ranked document <math>d_{j}</math> does not change the computed value for CG. Based on the two assumptions made above about the usefulness of search results, DCG is used in place of CG for a more accurate measure.</p>

</ss1>
<ss1>
<st>
 Rank-based Discounting </st>

<p>

The premise of DCG is that highly relevant documents appearing lower in a search result list should be penalized as the graded relevance value is reduced logarithmically proportional to the position of the result. The discounted CG accumulated at a particular rank position <math>p</math> is defined as:</p>
<p>

<indent level="1">

<math> \mathrm{DCG_{p}} = rel_{1} + \sum_{i=2}^{p} \frac{rel_{i}}{log_{2}i} </math>
</indent>

There has not been shown any theoretically sound justification for using a <link xlink:type="simple" xlink:href="../860/17860.xml">
logarithmic</link> reduction factor<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%221%22])">1</ref> other than the fact that it produces a smooth reduction. An alternative formulation of DCG places much stronger emphasis on retrieving relevant documents sooner (i.e. ranked higher) using a <structure wordnetid="105726345" confidence="0.8">
<arrangement wordnetid="105726596" confidence="0.8">
<distribution wordnetid="105729036" confidence="0.8">
<link>
power distribution</link></distribution>
</arrangement>
</structure>
 and is formulated as:</p>
<p>

<indent level="1">

<math> \mathrm{DCG_{p}} = \sum_{i=1}^{p} \frac{ 2^{rel_{i}} - 1 }{ log_{2}(1+i)} </math>
</indent>

The function is equivalent to the previous DCG function when the relevance values of documents are <link xlink:type="simple" xlink:href="../823/3823.xml">
binary</link>; <math>rel_{i} \in \{0,1\}</math>.</p>

</ss1>
<ss1>
<st>
 Normalizing DCG </st>

<p>

Search result lists vary in length depending on the <link xlink:type="simple" xlink:href="../390/679390.xml">
query</link>. Comparing a search engines performance from one query to the next cannot be consistently achieved using DCG alone, so the cumulative gain at each position for a chosen value of <math>p</math> should be normalized across queries. This is done by sorting documents of a result list by DCG value, producing an <link xlink:type="simple" xlink:href="../923/314923.xml">
ideal</link> DCG at position <math>p</math>. For a query, the <it>normalized discounted cumulative gain</it>, or nDCG, is computed as:</p>
<p>

<indent level="1">

<math> \mathrm{nDCG_{p}} = \frac{DCG_{p}}{IDCG{p}} </math>
</indent>

The nDCG values for all queries can be averaged to obtain a measure of the average performance of a search engine's ranking algorithm. </p>
<p>

The main difficulty encountered in using nDCG is the unavailability of an ideal ordering of results when only partial <link xlink:type="simple" xlink:href="../361/5818361.xml">
relevance feedback</link> is available.</p>

</ss1>
</sec>
<sec>
<st>
 Example </st>

<p>

Presented with a list of documents in response to a search query, an experiment participant is asked to judge the relevance of each document to the query. Each document is to be judged on a scale of 0-3 with 0 meaning irrelevant, 3 meaning completely relevant, and 1 and 2 meaning "somewhere in between. For the documents ordered by the ranking algorithm as</p>
<p>

<indent level="1">

<math> D_{1}, D_{2}, D_{3}, D_{4}, D_{5}, D_{6} </math>
</indent>

the user provides the following relevance scores:</p>
<p>

<indent level="1">

<math> 3, 2, 3, 0, 1, 2 </math>
</indent>

That is: document 1 has a relevance of 3, document 2 has a relevance of 2, etc. The Cumulative Gain of this search result listing is:</p>
<p>

<indent level="1">

<math> \mathrm{CG_{p}} = \sum_{i=1}^{p} rel_{i} = 3+2+3+0+1+2 = 11</math>
</indent>

Changing the order of any two documents does not affect the CG measure. If <math>D_3</math> and <math>D_4</math> are switched, the CD remains the same, 11. DCG is used to emphasize highly relevant documents appearing early in the result list. Using the logarithmic scale for reduction, the DCG for each result in order is:</p>
<p>

<indent level="1">

<math> 3, 2/1, 3/1.59, 0/2.0, 1/2.32, 2/2.59 </math>
</indent>
:<math> 3, 2, 1.887, 0, 0.431, 0.772 </math></p>
<p>

So the <math>DCG_{6}</math> of this ranking is:</p>
<p>

<indent level="1">

<math> \mathrm{DCG_{6}} = rel_{1} + \sum_{i=2}^{p} \frac{rel_{i}}{log_{2}i} = 3 + (2+1.887+0+0.431+0.772) = 8.09</math>
</indent>

Now a switch of <math>D_3</math> and <math>D_4</math> results in a reduce DCG because a less relevant document is placed higher in the ranking; that is, a more relevant document is discounted more by being placed in a lower rank.</p>
<p>

The performance of this query to another is incomparable in this form since the other query may have more results, resulting in a larger overall DCG which may not necessarily be better. In order to compare, the DCG values must be normalized.</p>
<p>

To normalize DCG values, an ideal ordering for the given query is needed. For this example, that ordering would be the <link>
monotonically decreasing</link> sort of the relevance judgments provided by the experiment participant, which is:</p>
<p>

<indent level="1">

<math> 3, 3, 2, 2, 1, 0 </math>
</indent>

The DCG of this ideal ordering, or <it>IDCG</it>, is then:</p>
<p>

<indent level="1">

<math> \mathrm{IDCG_{6}} = 8.693 </math>
</indent>

And so the nDCG for this query is given as:</p>
<p>

<indent level="1">

<math> \mathrm{nDCG_{6}} = \frac{DCG_{6}}{IDCG{6}} = \frac{8.09}{8.693} = 0.9306 </math>
</indent>

</p>
</sec>
<sec>
<st>
 References </st>

<p>

<reflist>
<entry id="1">
 <cite style="font-style:normal" class="book">B. Croft, D. Metzler, and T. Strohman&#32;(2009). Search Engines: Information Retrieval in Practice.&#32;<link xlink:type="simple" xlink:href="../080/1180080.xml">
Addison Wesley</link>.</cite>&nbsp;</entry>
</reflist>
</p>

</sec>
</bdy>
</article>
