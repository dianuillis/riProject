<?xml version="1.0" encoding="UTF-8"?>
<!-- generated by CLiX/Wiki2XML [MPI-Inf, MMCI@UdS] $LastChangedRevision: 92 $ on 16.04.2009 16:32:28[mciao0825] -->
<!DOCTYPE article SYSTEM "../article.dtd">
<article xmlns:xlink="http://www.w3.org/1999/xlink">
<event  confidence="0.8" wordnetid="100029378">
<rule  confidence="0.8" wordnetid="105846932">
<act  confidence="0.8" wordnetid="100030358">
<psychological_feature  confidence="0.8" wordnetid="100023100">
<procedure  confidence="0.8" wordnetid="101023820">
<activity  confidence="0.8" wordnetid="100407535">
<algorithm  confidence="0.8" wordnetid="105847438">
<header>
<title>Xiaolin Wu&apos;s line algorithm</title>
<id>222689</id>
<revision>
<id>238032259</id>
<timestamp>2008-09-12T22:54:57Z</timestamp>
<contributor>
<username>Rjwilmsi</username>
<id>203434</id>
</contributor>
</revision>
<categories>
<category>Computer graphics algorithms</category>
<category>Articles with invalid date parameter in template</category>
<category>Articles to be expanded since May 2008</category>
<category>Articles with example pseudocode</category>
<category>All articles to be expanded</category>
</categories>
</header>
<bdy>

<image location="right" width="150px" src="XiaolinWuLine.png" type="thumb">
<caption>

Antialiased line drawn with Xiaolin Wu's algorithm
</caption>
</image>

<p>

<table class="metadata plainlinks ambox ">
<row>
<col>

ambox-notice" style=""</col>
</row>
<row>
<col class="mbox-image"><p>

<image width="44px" src="Wiki_letter_w.svg">
</image>
</p>
</col>
<col style="" class="mbox-text">
 <b>Please help <weblink xlink:type="simple" xlink:href="http://localhost:18088/wiki/index.php?title=Xiaolin_Wu%27s_line_algorithm&amp;action=edit">
improve this article or section</weblink> by expanding it.</b> Further information might be found on the  or at . 
<it>(May 2008)''</it></col>
</row>
</table>

</p>
<p>

<b>Xiaolin Wu's line algorithm</b> is an <link xlink:type="simple" xlink:href="../775/775.xml">
algorithm</link> for line <link xlink:type="simple" xlink:href="../507/113507.xml">
antialiasing</link>, which was presented in the article <it>An Efficient Antialiasing Technique</it> in the July <link xlink:type="simple" xlink:href="../703/34703.xml">
1991</link> issue of <it><link xlink:type="simple" xlink:href="../092/1781092.xml">
Computer Graphics</link></it>, as well as in the article <it>Fast Antialiasing</it> in the June <link xlink:type="simple" xlink:href="../669/34669.xml">
1992</link> issue of <it><magazine wordnetid="106595351" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../768/173768.xml">
Dr. Dobb's Journal</link></magazine>
</it>.</p>
<p>

<event wordnetid="100029378" confidence="0.8">
<rule wordnetid="105846932" confidence="0.8">
<act wordnetid="100030358" confidence="0.8">
<psychological_feature wordnetid="100023100" confidence="0.8">
<procedure wordnetid="101023820" confidence="0.8">
<activity wordnetid="100407535" confidence="0.8">
<algorithm wordnetid="105847438" confidence="0.8">
<link xlink:type="simple" xlink:href="../005/64005.xml">
Bresenham's algorithm</link></algorithm>
</activity>
</procedure>
</psychological_feature>
</act>
</rule>
</event>
 draws lines extremely quickly, but it cannot perform anti-aliasing. In addition, it cannot handle the case where the line endpoints do not lie exactly on integer points of the pixel grid. A naïve approach to anti-aliasing the line would take an extremely long time, but Wu's algorithm is quite fast (it is still slower than Bresenham's, though). The basis of the algorithm is to draw pairs of pixels straddling the line, coloured according to proximity. Pixels at the line ends are handled separately. Lines less than one pixel long should be handled as a special case.</p>
<p>

An extension to the algorithm for circle drawing was presented by Xiaolin Wu in the book <it><link>
Graphics Gems</link> II</it>. Just like the line drawing algorithm is a replacement for Bresenham's line drawing algorithm, the circle drawing algorithm is a replacement for Bresenham's circle drawing algorithm.</p>

<sec>
<st>
Pseudocode implementation</st>

<p>

Here is <link xlink:type="simple" xlink:href="../185/24185.xml">
pseudocode</link> for the nearly-horizontal case (<math>\Delta x &amp;gt; \Delta y</math>).  To extend the algorithm to work for all lines, swap the x and y coordinates when near-vertical lines appear (for reference, see <event wordnetid="100029378" confidence="0.8">
<rule wordnetid="105846932" confidence="0.8">
<act wordnetid="100030358" confidence="0.8">
<psychological_feature wordnetid="100023100" confidence="0.8">
<procedure wordnetid="101023820" confidence="0.8">
<activity wordnetid="100407535" confidence="0.8">
<algorithm wordnetid="105847438" confidence="0.8">
<link xlink:type="simple" xlink:href="../005/64005.xml">
Bresenham's line algorithm</link></algorithm>
</activity>
</procedure>
</psychological_feature>
</act>
</rule>
</event>
). This implementation is only valid for x, y ≥ 0.</p>

<p>

<b>function</b> plot(x, y, c) <b>is</b>
plot the pixel at (x, y) with brightness c (where 0 ≤ c ≤ 1)</p>
<p>

<b>function</b> ipart(x) <b>is</b>
<b>return</b> <it>integer part of x</it></p>
<p>

<b>function</b> round(x) <b>is</b>
<b>return</b> ipart(x + 0.5)</p>
<p>

<b>function</b> fpart(x) <b>is</b>
<b>return</b> <it>fractional part of x</it></p>
<p>

<b>function</b> rfpart(x) <b>is</b>
<b>return</b> 1 - fpart(x)</p>
<p>

<b>function</b> drawLine(x1,y1,x2,y2) <b>is</b></p>
<p>

dx = x2 - x1
dy = y2 - y1</p>
<p>

<b>if</b> abs(dx) &amp;gt; abs(dy) then			
<it>//handle "horizontal" lines</it>
<b>if</b> x2  x1
swap x1, x2
swap y1, y2
<b>end if</b>
gradient = dy / dx</p>
<p>

<it>// handle first endpoint</it>
xend = round(x1)
yend = y1 + gradient * (xend - x1)
xgap = rfpart(x1 + 0.5)
xpxl1 = xend <it> // this will be used in the main loop</it>
ypxl1 = ipart(yend)
plot(xpxl1, ypxl1, rfpart(yend) * xgap)
plot(xpxl1, ypxl1 + 1, fpart(yend) * xgap)
intery = yend + gradient <it>// first y-intersection for the main loop</it></p>
<p>

<it>// handle second endpoint</it>
xend = round(x2)
yend = y2 + gradient * (xend - x2)
xgap = fpart(x2 + 0.5)
xpxl2 = xend <it> // this will be used in the main loop</it>
ypxl2 = ipart(yend)
plot(xpxl2, ypxl2, rfpart(yend) * xgap)
plot(xpxl2, ypxl2 + 1, fpart(yend) * xgap)</p>
<p>

<it>// main loop</it>
<b>for</b> x <b>from</b> xpxl1 + 1 <b>to</b> xpxl2 - 1 <b>do</b>
plot(x, ipart(intery), rfpart(intery))
plot(x, ipart(intery) + 1, fpart(intery))
intery = intery + gradient
<b>repeat</b>
<b>else</b>
<it>//handle "vertical" lines  same code as above but X takes the role of Y
</it>'end function</p>


</sec>
<sec>
<st>
References</st>
<p>

<list>
<entry level="1" type="bullet">

  <cite style="font-style:normal">Abrash, Michael&#32;(June 1992).&#32;"<weblink xlink:type="simple" xlink:href="http://www.gamedev.net/reference/articles/article382.asp">
Fast Antialiasing (Column)</weblink>". <it><magazine wordnetid="106595351" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../768/173768.xml">
Dr. Dobb's Journal</link></magazine>
</it>&#32;<b>17</b>&#32;(6): 139(7).</cite>&nbsp;</entry>
<entry level="1" type="bullet">

  <cite style="font-style:normal">Wu, Xiaolin&#32;(July 1991).&#32;"<weblink xlink:type="simple" xlink:href="http://portal.acm.org/citation.cfm?id=122734">
An efficient antialiasing technique</weblink>". <it><link xlink:type="simple" xlink:href="../092/1781092.xml">
Computer Graphics</link></it>&#32;<b>25</b>&#32;(4): 143–152. <document wordnetid="106470073" confidence="0.8">
<written_communication wordnetid="106349220" confidence="0.8">
<writing wordnetid="106362953" confidence="0.8">
<link xlink:type="simple" xlink:href="../994/422994.xml">
doi</link></writing>
</written_communication>
</document>
:<weblink xlink:type="simple" xlink:href="http://dx.doi.org/10.1145%2F127719.122734">
10.1145/127719.122734</weblink>. ISBN 0-89791-436-8.</cite>&nbsp;</entry>
<entry level="1" type="bullet">

  <cite style="font-style:normal" class="book">Wu, Xiaolin&#32;(1991).&#32;"Fast Anti-Aliased Circle Generation",&#32;in James Arvo (Ed.): Graphics Gems II.&#32;San Francisco:&#32;Morgan Kaufmann,&#32;pp. 446–?. ISBN 0-12-064480-0.</cite>&nbsp;</entry>
</list>
</p>

</sec>
<sec>
<st>
External links</st>
<p>

<list>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://www.ece.mcmaster.ca/~xwu/">
Xiaolin Wu's homepage</weblink></entry>
</list>
</p>


</sec>
</bdy>
</algorithm>
</activity>
</procedure>
</psychological_feature>
</act>
</rule>
</event>
</article>
