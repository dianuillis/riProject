<?xml version="1.0" encoding="UTF-8"?>
<!-- generated by CLiX/Wiki2XML [MPI-Inf, MMCI@UdS] $LastChangedRevision: 92 $ on 16.04.2009 16:35:33[mciao0828] -->
<!DOCTYPE article SYSTEM "../article.dtd">
<article xmlns:xlink="http://www.w3.org/1999/xlink">
<message  confidence="0.8" wordnetid="106598915">
<protocol  confidence="0.8" wordnetid="106665108">
<direction  confidence="0.8" wordnetid="106786629">
<rule  confidence="0.8" wordnetid="106652242">
<header>
<title>Network congestion avoidance</title>
<id>235023</id>
<revision>
<id>242079137</id>
<timestamp>2008-09-30T20:54:17Z</timestamp>
<contributor>
<username>Lightbot</username>
<id>7178666</id>
</contributor>
</revision>
<categories>
<category>Miscellaneous articles needing expert attention</category>
<category>Computer networking articles needing expert attention</category>
<category>Network performance</category>
<category>Transport layer protocols</category>
<category>Articles needing expert attention</category>
<category>Pages needing expert attention</category>
</categories>
</header>
<bdy>

<table class="metadata plainlinks ambox ">
<row>
<col>

ambox-content" style=""</col>
</row>
<row>
<col class="mbox-image"><p>

<image width="40x40px" src="Ambox_content.png">
</image>
</p>
</col>
<col style="" class="mbox-text">
 <b>This article or section is in need of attention from an expert on the subject.</b><p>

  may be able to help recruit one.
If a more appropriate  or 
portalexists, please adjust this template accordingly.</p>
</col>
</row>
</table>

<p>

<b>Network congestion avoidance</b> is a process used in <link xlink:type="simple" xlink:href="../592/4122592.xml">
computer network</link>s to avoid <link xlink:type="simple" xlink:href="../522/430522.xml">
congestion</link>.</p>
<p>

The fundamental problem is that all network resources are limited, including <link xlink:type="simple" xlink:href="../748/25748.xml">
router</link> processing time and link <link xlink:type="simple" xlink:href="../932/30932.xml">
throughput</link>. Eg.:
<list>
<entry level="1" type="bullet">

today's (2006) <link xlink:type="simple" xlink:href="../143/33143.xml">
Wireless LAN</link> effective bandwidth throughput (15-100Mbit/s) is easily filled by a single <link xlink:type="simple" xlink:href="../137/18457137.xml">
personal computer</link>.</entry>
<entry level="1" type="bullet">

Even on fast <link xlink:type="simple" xlink:href="../592/4122592.xml">
computer network</link>s (e.g. 1 Gbit), the backbone can easily be congested by a few servers and client PCs.</entry>
<entry level="1" type="bullet">

Because <link xlink:type="simple" xlink:href="../107/24107.xml">
P2P</link> scales very well, file transmissions by P2P have no problem filling and will fill an uplink or some other network bottleneck, particularly when nearby peers are preferred over distant peers. </entry>
<entry level="1" type="bullet">

<link xlink:type="simple" xlink:href="../776/39776.xml">
Denial of service attack</link>s by <link xlink:type="simple" xlink:href="../268/636268.xml">
botnet</link>s are capable of filling even the largest <link xlink:type="simple" xlink:href="../402/48402.xml">
Internet backbone</link> network links (40 Gbit/s as of 2007), generating large-scale network congestion</entry>
</list>
</p>
<p>

Implementations of connection-oriented <link xlink:type="simple" xlink:href="../235/83235.xml">
protocols</link>, such as the widely-used <link xlink:type="simple" xlink:href="../538/30538.xml">
TCP</link> protocol, generally watch for packet errors, losses, or delays (see <link xlink:type="simple" xlink:href="../315/25315.xml">
Quality of Service</link>) in order to adjust the transmit speed.  There are many different network congestion avoidance processes, since there are a number of different trade-offs available.
<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%221%22])">1</ref></p>

<ss1>
<st>
TCP/IP congestion avoidance</st>

<p>

<indent level="1">

<it>Main article: <link xlink:type="simple" xlink:href="../471/1723471.xml">
TCP congestion avoidance algorithm</link></it>
</indent>
The TCP congestion avoidance algorithm is the primary basis for <link xlink:type="simple" xlink:href="../196/6008196.xml">
congestion control</link> in the Internet.
<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%222%22])">2</ref>
<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%223%22])">3</ref>
<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%224%22])">4</ref>
<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%225%22])">5</ref>
<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%226%22])">6</ref></p>
<p>

Problems occur when many concurrent TCP flows are experiencing <message wordnetid="106598915" confidence="0.8">
<protocol wordnetid="106665108" confidence="0.8">
<direction wordnetid="106786629" confidence="0.8">
<rule wordnetid="106652242" confidence="0.8">
<link xlink:type="simple" xlink:href="../074/4972074.xml">
port queue buffer</link></rule>
</direction>
</protocol>
</message>
 <link xlink:type="simple" xlink:href="../278/9070278.xml">
tail-drop</link>s. Then TCP's automatic congestion avoidance is not enough. All flows that experience port queue buffer <link xlink:type="simple" xlink:href="../278/9070278.xml">
tail-drop</link> will begin a TCP retrain at the same moment - this is called <standard wordnetid="107260623" confidence="0.8">
<system_of_measurement wordnetid="113577171" confidence="0.8">
<link xlink:type="simple" xlink:href="../054/2072054.xml">
TCP global synchronization</link></system_of_measurement>
</standard>
.Problems can be cured or greatly reduced
with a netequalizer http://www.netequalizer.com/</p>

</ss1>
<ss1>
<st>
Active Queue Management (AQM)</st>

<p>

<indent level="1">

<it>Main article: <link xlink:type="simple" xlink:href="../236/5361236.xml">
Active Queue Management</link></it>
</indent>

</p>
<ss2>
<st>
Purpose</st>
<p>

"Recommendations on Queue Management and Congestion Avoidance in the Internet" (RFC 2309<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%227%22])">7</ref>) states that:
<list>
<entry level="1" type="bullet">

 Fewer packets will be dropped with Active Queue Management (AQM).</entry>
<entry level="1" type="bullet">

 The link utilization will increase because less TCP global synchronization will occur.</entry>
<entry level="1" type="bullet">

 By keeping the average queue size small, queue management will reduce the delays and jitter seen by flows.</entry>
<entry level="1" type="bullet">

 The connection bandwidth will be more equally shared among connection oriented <link xlink:type="simple" xlink:href="../211/466211.xml">
flow</link>s, even without flow-based RED or WRED.</entry>
</list>
</p>

</ss2>
<ss2>
<st>
Random early detection</st>

<p>

<indent level="1">

<it>Main article: <link xlink:type="simple" xlink:href="../827/1112827.xml">
Random early detection</link></it>
</indent>

<indent level="1">

<it>Main article: <link xlink:type="simple" xlink:href="../114/3396114.xml">
Weighted random early detection</link></it>
</indent>
One solution is to use <link xlink:type="simple" xlink:href="../827/1112827.xml">
random early detection</link> (RED) on network equipments <message wordnetid="106598915" confidence="0.8">
<protocol wordnetid="106665108" confidence="0.8">
<direction wordnetid="106786629" confidence="0.8">
<rule wordnetid="106652242" confidence="0.8">
<link xlink:type="simple" xlink:href="../074/4972074.xml">
port queue buffer</link></rule>
</direction>
</protocol>
</message>
.
<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%228%22])">8</ref>
<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%229%22])">9</ref> 
On <link xlink:type="simple" xlink:href="../084/235084.xml">
network equipment</link> ports with more than one queue buffer, <link xlink:type="simple" xlink:href="../114/3396114.xml">
weighted random early detection</link> (WRED) could be used if available.</p>
<p>

RED indirectly signals to sender and receiver by deleting some packets, eg. when the average queue buffer lengths are more than eg. 50% (lower threshold) filled and deletes <idea wordnetid="105833840" confidence="0.8">
<concept wordnetid="105835747" confidence="0.8">
<link xlink:type="simple" xlink:href="../591/91591.xml">
linearly more</link></concept>
</idea>
 or (better according to paper) <link xlink:type="simple" xlink:href="../709/243709.xml">
cubical more</link> packets,
<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%2210%22])">10</ref> 
up to eg. 100% (higher threshold). The average queue buffer lengths are computed over 1 second at a time.</p>

</ss2>
<ss2>
<st>
Flowbased-RED/WRED</st>
<p>

Some network equipment are equipped with ports that can follow and measure each flow (<b>flowbased-RED/WRED</b>) and are hereby able to signal to a too big bandwidth flow according to some QoS policy. A policy could divide the bandwidth among all flows by some criteria.</p>

</ss2>
<ss2>
<st>
IP ECN</st>

<p>

<indent level="1">

<it>Main article: <message wordnetid="106598915" confidence="0.8">
<protocol wordnetid="106665108" confidence="0.8">
<direction wordnetid="106786629" confidence="0.8">
<rule wordnetid="106652242" confidence="0.8">
<link xlink:type="simple" xlink:href="../470/309470.xml">
Explicit Congestion Notification</link></rule>
</direction>
</protocol>
</message>
</it>
</indent>
Another approach is to use <message wordnetid="106598915" confidence="0.8">
<protocol wordnetid="106665108" confidence="0.8">
<direction wordnetid="106786629" confidence="0.8">
<rule wordnetid="106652242" confidence="0.8">
<link xlink:type="simple" xlink:href="../323/15323.xml">
IP</link></rule>
</direction>
</protocol>
</message>
 <message wordnetid="106598915" confidence="0.8">
<protocol wordnetid="106665108" confidence="0.8">
<direction wordnetid="106786629" confidence="0.8">
<rule wordnetid="106652242" confidence="0.8">
<link xlink:type="simple" xlink:href="../470/309470.xml">
ECN</link></rule>
</direction>
</protocol>
</message>
<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%2211%22])">11</ref>.  ECN is only used when the two hosts signal that they want to use it.  With this method, an ECN bit is used to signal that there is explicit congestion.  This is better than the indirect packet delete congestion notification performed by the RED/WRED algorithms, but it requires explicit support by both hosts to be effective.
<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%2212%22])">12</ref> 
Some outdated or buggy <link xlink:type="simple" xlink:href="../254/1699254.xml">
network equipment</link> drops packets with the ECN bit set, rather than ignoring the bit. More information on the status of ECN including the version required for <system wordnetid="104377057" confidence="0.8">
<artifact wordnetid="100021939" confidence="0.8">
<instrumentality wordnetid="103575240" confidence="0.8">
<merchandise wordnetid="103748886" confidence="0.8">
<commodity wordnetid="103076708" confidence="0.8">
<link xlink:type="simple" xlink:href="../398/187398.xml">
Cisco IOS</link></commodity>
</merchandise>
</instrumentality>
</artifact>
</system>
, by <link>
Sally Floyd</link><ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%228%22])">8</ref>, one of the authors of ECN.</p>
<p>

When a router receives a packet marked as ECN capable and anticipates (using RED) congestion, it will set an ECN-flag notifying the sender of congestion. The sender then ought to decrease its transmission bandwidth; eg. by decreasing the tcp window size (sending rate) or by other means.</p>

</ss2>
<ss2>
<st>
Cisco AQM: Dynamic buffer limiting (DBL)</st>
<p>

<company wordnetid="108058098" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../746/51746.xml">
Cisco</link></company>
 has taken a step further in their Catalyst 4000 series with engine IV and V. Engine IV and V has the possibility to classify all flows in "aggressive" (bad) and "adaptive" (good).  It ensures that no flows fill the port queues for a long time.  <b>DBL</b> can utilize <b>IP ECN</b> instead of packet-delete-signalling.
<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%2213%22])">13</ref>
<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%2214%22])">14</ref></p>

</ss2>
<ss2>
<st>
TCP Window Shaping</st>
<p>

Congestion avoidance can also efficiently be achieved by reducing the amount of traffic flowing into your network. When an application requests a large file, graphic or web page, it usually advertises a "window" of between 32K and 64K. This results in the server sending a full window of data (assuming the file is larger than the window). When you have many applications simultaneously requesting downloads, this data creates a congestion point at your upstream provider by flooding the queue much faster than it can be emptied. By using a device to reduce the window advertisement, the remote servers will send less data, thus reducing the congestion and allowing traffic to flow more freely. This technique can reduce congestion in a network by a factor of 40.</p>

</ss2>
</ss1>
<sec>
<st>
See also</st>
<p>

<list>
<entry level="1" type="bullet">

<link xlink:type="simple" xlink:href="../669/242669.xml">
Traffic shaping</link></entry>
<entry level="1" type="bullet">

<link xlink:type="simple" xlink:href="../315/25315.xml">
Quality of service</link></entry>
<entry level="1" type="bullet">

<event wordnetid="100029378" confidence="0.8">
<rule wordnetid="105846932" confidence="0.8">
<act wordnetid="100030358" confidence="0.8">
<psychological_feature wordnetid="100023100" confidence="0.8">
<procedure wordnetid="101023820" confidence="0.8">
<activity wordnetid="100407535" confidence="0.8">
<algorithm wordnetid="105847438" confidence="0.8">
<link xlink:type="simple" xlink:href="../272/1148272.xml">
Exponential backoff</link></algorithm>
</activity>
</procedure>
</psychological_feature>
</act>
</rule>
</event>
</entry>
<entry level="1" type="bullet">

<link xlink:type="simple" xlink:href="../914/6593914.xml">
max-min fairness</link></entry>
</list>
</p>

</sec>
<sec>
<st>
References</st>
<p>

<list>
<entry level="1" type="bullet">

 "Deploying IP and MPLS QoS for Multiservice Networks: Theory and Practice" by John Evans, Clarence Filsfils (Morgan Kaufmann, 2007, ISBN 0-12-370549-5)</entry>
</list>
</p>


</sec>
<sec>
<st>
Books</st>
<p>

<list>
<entry level="1" type="bullet">

 "Deploying IP and MPLS QoS for Multiservice Networks: Theory and Practice" by John Evans, Clarence Filsfils (Morgan Kaufmann, 2007, ISBN 0-12-370549-5)</entry>
</list>
</p>

</sec>
<sec>
<st>
External links</st>
<p>

<list>
<entry level="1" type="bullet">

<weblink xlink:type="simple" xlink:href="http://www.linktionary.com/q/queuing.html">
Linktionary term: Queuing</weblink></entry>
<entry level="1" type="bullet">

<weblink xlink:type="simple" xlink:href="http://www.cse.wustl.edu/~jain/papers.html">
Pierre-Francois Quet, Sriram Chellappan, Arjan Durresi, Mukundan Sridharan, Hitay Ozbay, Raj Jain, " Guidelines for optimizing Multi-Level ECN, using fluid flow based TCP model"</weblink></entry>
<entry level="1" type="bullet">

<weblink xlink:type="simple" xlink:href="http://www.cs.washington.edu/homes/ratul/red-pd/">
Sally Floyd, Ratul Mahajan, David Wetherall: RED-PD: RED with Preferential Dropping</weblink></entry>
<entry level="1" type="bullet">

<weblink xlink:type="simple" xlink:href="http://code.google.com/p/guduz/">
 A Generic Simple RED Simulator for educational purposes by Mehmet Suzen</weblink></entry>
</list>
</p>


</sec>
</bdy>
</rule>
</direction>
</protocol>
</message>
</article>
