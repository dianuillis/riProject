<?xml version="1.0" encoding="UTF-8"?>
<!-- generated by CLiX/Wiki2XML [MPI-Inf, MMCI@UdS] $LastChangedRevision: 92 $ on 16.04.2009 19:45:22[mciao0825] -->
<!DOCTYPE article SYSTEM "../article.dtd">
<article xmlns:xlink="http://www.w3.org/1999/xlink">
<header>
<title>Long filename</title>
<id>2620353</id>
<revision>
<id>235272913</id>
<timestamp>2008-08-30T23:13:18Z</timestamp>
<contributor>
<username>AlleborgoBot</username>
<id>3813685</id>
</contributor>
</revision>
<categories>
<category>Microsoft Windows file system technology</category>
</categories>
</header>
<bdy>

<b>Long filenames</b> (<b>LFN</b>), spelled "long file names" by Microsoft<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%221%22])">1</ref>, are longer and therefore more descriptive <link xlink:type="simple" xlink:href="../542/351542.xml">
filename</link>s supported by the <company wordnetid="108058098" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../001/19001.xml">
Microsoft</link></company>
 <link xlink:type="simple" xlink:href="../045/53045.xml">
FAT</link> <link xlink:type="simple" xlink:href="../280/1010280.xml">
filesystem</link>. Earlier versions of the filesystem restricted filenames to eight characters and a three-character extension (referred to as a <link xlink:type="simple" xlink:href="../146/8146.xml">
DOS</link> <system wordnetid="104377057" confidence="0.8">
<artifact wordnetid="100021939" confidence="0.8">
<instrumentality wordnetid="103575240" confidence="0.8">
<link xlink:type="simple" xlink:href="../247/60247.xml">
8.3 filename</link></instrumentality>
</artifact>
</system>
).  The first <link xlink:type="simple" xlink:href="../890/18890.xml">
Microsoft Windows</link> <link xlink:type="simple" xlink:href="../194/22194.xml">
operating system</link> to implement long filenames on FAT was <version wordnetid="107173585" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../884/984884.xml">
Windows NT 3.5</link></version>
 in 1994.<p>

The long filename system allows a maximum length of 255 <link xlink:type="simple" xlink:href="../317/40317.xml">
UTF-16</link> characters<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%222%22])">2</ref> <ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%223%22])">3</ref>, including spaces and non-alphanumeric characters (excluding the following characters, which have special meaning within the <software wordnetid="106566077" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../187/71187.xml">
command interpreter</link></software>
 or the operating system kernel: \ / : * ? "  &amp;gt; |).  This is achieved by chaining up to 20 directory entries of 13 2-byte <link xlink:type="simple" xlink:href="../742/31742.xml">
unicode</link> characters each.<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%224%22])">4</ref></p>
<p>

To maintain compatibility with older operating systems, Microsoft formulated a method of generating an 8.3 filename from the long filename (for example, "Microsoft.txt" to "MICROS~1.TXT") and associating it with the file.</p>
<p>

For technical details of the implementation, please refer to the <link xlink:type="simple" xlink:href="../045/53045.xml">
File Allocation Table</link> article.</p>

<sec>
<st>
Compatibility issues</st>
<p>

The way Microsoft added support for LFNs to the <link xlink:type="simple" xlink:href="../045/53045.xml">
FAT</link> filesystem was by adding hidden directory entries, of "volume label" type, to the filesystem to store the longer names. The reason they chose to do this was compatibility: volume labels are generally ignored by programs and operating systems. Programs running on older operating systems could still access the files while newer operating systems and programs can access long file names.</p>
<p>

When LFNs were first introduced into a <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../027/20027.xml">
MS-DOS</link></O>
 based operating system with <version wordnetid="107173585" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../064/34064.xml">
Windows 95</link></version>
 the implementation caused some problems when people used older programs. A DOS program performing sector-level directory operations while Windows was in DOS mode could destroy long filename information, so by default sector-level access to hard disks was locked out in this mode.</p>
<p>

Also if booting into plain DOS the long filenames would not be visible, unless an LFN driver is installed (see below). At the same time Microsoft decided not to update many of the older programs to support LFNs. Of those, one that particularly stands out is the program <physical_entity wordnetid="100001930" confidence="0.8">
<person wordnetid="100007846" confidence="0.8">
<idea wordnetid="105833840" confidence="0.8">
<concept wordnetid="105835747" confidence="0.8">
<component wordnetid="105868954" confidence="0.8">
<leader wordnetid="109623038" confidence="0.8">
<administrator wordnetid="109770949" confidence="0.8">
<causal_agent wordnetid="100007347" confidence="0.8">
<part wordnetid="105867413" confidence="0.8">
<head wordnetid="110162991" confidence="0.8">
<director wordnetid="110014939" confidence="0.8">
<link xlink:type="simple" xlink:href="../721/3083721.xml">
File Manager</link></director>
</head>
</part>
</causal_agent>
</administrator>
</leader>
</component>
</concept>
</idea>
</person>
</physical_entity>
, the <version wordnetid="107173585" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../719/167719.xml">
Windows for Workgroups</link></version>
 3.11 file manager (which has been made obsolete by the new operating system shell, the <software wordnetid="106566077" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../959/445959.xml">
Explorer</link></software>
). <family wordnetid="108078020" confidence="0.8">
<link xlink:type="simple" xlink:href="../438/33438.xml">
Windows NT</link></family>
 supported LFNs on NTFS file systems since the release of NT 3.1, and all of its utilities, including the File Manager, was updated to support LFNs, and NT 3.5 added FAT LFN support in preparation for Windows 95, however the Windows 95 version of File Manager came from Windows for Workgroup 3.11.</p>
<p>

<O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../409/22409.xml">
OS/2</link></O>
 had its own method of supporting LFNs on FAT drives, incompatible with Microsoft's. They were stored as a .LONGNAME <link xlink:type="simple" xlink:href="../936/3461936.xml">
extended attribute</link>, were mostly just "labels", only visible in tools designed to display them, and most annoyingly not available for accessing files by pathname at the API level. However this can be rectified with a driver.</p>

<ss1>
<st>
 Limitations </st>
<p>

Because FAT LFN implementation is layered on top of an older more limited naming system, there are inevitable complications, such as if an attempt is made to create too many files with the same first six letters.<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%225%22])">5</ref></p>

</ss1>
</sec>
<sec>
<st>
LFN drivers</st>
<p>

The following is a list of drivers that can be used to provide support for long file names used in Windows 95:</p>
<p>

<table class="wikitable">
<header>
OS</header>
<header>
Driver Name</header>
<header>
Provider</header>
<row>
<col>
<O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../409/22409.xml">
OS/2</link></O>
</col>
<col>
VFAT OS2</col>
<col>
3rd party</col>
</row>
<row>
<col>
<link xlink:type="simple" xlink:href="../146/8146.xml">
DOS</link></col>
<col>
DOSLFN</col>
<col>
3rd party</col>
</row>
<row>
<col>
<O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../086/66086.xml">
DR-DOS</link></O>
</col>
<col>
LFNDOS</col>
<col>
Provided</col>
</row>
</table>
</p>

</sec>
<sec>
<st>
Similar implementations</st>
<p>

Prior to the release of <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../409/22409.xml">
OS/2</link></O>
 and <family wordnetid="108078020" confidence="0.8">
<link xlink:type="simple" xlink:href="../438/33438.xml">
Windows NT</link></family>
, one of the first file systems to support long names and spaces was the <system wordnetid="104377057" confidence="0.8">
<artifact wordnetid="100021939" confidence="0.8">
<instrumentality wordnetid="103575240" confidence="0.8">
<link xlink:type="simple" xlink:href="../727/927727.xml">
Macintosh File System</link></instrumentality>
</artifact>
</system>
, written for the original version of <link xlink:type="simple" xlink:href="../043/20043.xml">
Mac OS</link> on the <computer wordnetid="103082979" confidence="0.8">
<artifact wordnetid="100021939" confidence="0.8">
<instrumentality wordnetid="103575240" confidence="0.8">
<device wordnetid="103183080" confidence="0.8">
<machine wordnetid="103699975" confidence="0.8">
<link xlink:type="simple" xlink:href="../115/548115.xml">
Macintosh 128K</link></machine>
</device>
</instrumentality>
</artifact>
</computer>
 released in January 1984.  Although the Macintosh File System supported file names up to 255 characters in length, at the time <link xlink:type="simple" xlink:href="../166/156166.xml">
Finder</link> only allowed up to 63 characters. With the release of the <system wordnetid="104377057" confidence="0.8">
<artifact wordnetid="100021939" confidence="0.8">
<instrumentality wordnetid="103575240" confidence="0.8">
<link xlink:type="simple" xlink:href="../347/55347.xml">
Hierarchical File System</link></instrumentality>
</artifact>
</system>
 (HFS) in September 1985, the maximum file name length allowed by the file system was reduced to 31 characters.<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%226%22])">6</ref>  When the Finder was re-written for <link xlink:type="simple" xlink:href="../354/345354.xml">
System 7</link>, the maximum file name length was dropped to 31, matching the maximum allowed by the file system.<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%226%22])">6</ref> In January 1998, Apple released <version wordnetid="107173585" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../730/511730.xml#xpointer(//*[./st=%22Mac+OS+8.1%22])">
Mac OS 8.1</link></version>
 with <system wordnetid="104377057" confidence="0.8">
<artifact wordnetid="100021939" confidence="0.8">
<instrumentality wordnetid="103575240" confidence="0.8">
<link xlink:type="simple" xlink:href="../752/927752.xml">
HFS Plus</link></instrumentality>
</artifact>
</system>
, which included support for 255 character file names; however, Finder continued to limit names to 31 characters until Mac OS X.<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%227%22])">7</ref></p>
<p>

<O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../304/18933304.xml">
AmigaOS</link></O>
 in 1985 allowed up to 30 characters in a filename.</p>
<p>

<O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../188/363188.xml">
Novell NetWare</link></O>
 versions 3.x and 4.x can also support Microsoft-compatible long filenames, by loading an additional <format wordnetid="106636806" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../313/3258313.xml">
NetWare Loadable Module</link></format>
 (NLM).<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%228%22])">8</ref></p>

</sec>
<sec>
<st>
 See also </st>
<p>

<list>
<entry level="1" type="bullet">

 <system wordnetid="104377057" confidence="0.8">
<artifact wordnetid="100021939" confidence="0.8">
<instrumentality wordnetid="103575240" confidence="0.8">
<link xlink:type="simple" xlink:href="../247/60247.xml">
8.3 filename</link></instrumentality>
</artifact>
</system>
</entry>
<entry level="1" type="bullet">

 <link xlink:type="simple" xlink:href="../280/1010280.xml">
File system</link></entry>
</list>
</p>

</sec>
<sec>
<st>
References</st>

<p>

<reflist>
<entry id="1">
<weblink xlink:type="simple" xlink:href="http://www.microsoft.com/technet/prodtechnol/windows2000serv/reskit/prork/prdf_fls_ggrm.mspx?mfr=true">
Microsoft Corporation</weblink></entry>
<entry id="2">
<weblink xlink:type="simple" xlink:href="http://msdn2.microsoft.com/en-us/library/ms810456.aspx">
Making Room for Long Filenames</weblink></entry>
<entry id="3">
<weblink xlink:type="simple" xlink:href="http://www.teleport.com/~brainy/lfn.htm">
Long Filename Specification</weblink></entry>
<entry id="4">
<weblink xlink:type="simple" xlink:href="http://www.teleport.com/~brainy/lfn.htm">
Long Filename Specification</weblink></entry>
<entry id="5">
<weblink xlink:type="simple" xlink:href="http://www.cocoadev.com/index.pl?MSDOSFileSystem">
CocoaDev: MSDOSFileSystem</weblink></entry>
<entry id="6">
Apple Computer&#32;(July 15, 1992).&#32;"<weblink xlink:type="simple" xlink:href="http://developer.apple.com/technotes/fl/fl_515.html">
Technical Note FL515: File Manager File Handling Q&amp;As</weblink>".&#32;<it>Apple Developer Connection</it>.&#32;  Apple Computer.&#32;Retrieved on <link>
2006-12-20</link>.</entry>
<entry id="7">
Apple Computer&#32;(January 30, 1998).&#32;"<weblink xlink:type="simple" xlink:href="http://developer.apple.com/technotes/tn/tn1121.html">
Technical Note TN1121: Mac OS 8.1</weblink>".&#32;<it>Apple Developer Connection</it>.&#32;  Apple Computer.&#32;Retrieved on <link>
2006-12-20</link>.</entry>
<entry id="8">
"<weblink xlink:type="simple" xlink:href="http://www.novell.com/support/search.do?cmd=displayKC&amp;docType=kc&amp;externalId=1002030&amp;sliceId=&amp;dialogID=52309057&amp;stateId=0%200%2052303960">
TID1002030 Windows NT, Long File Names on Netware</weblink>"&#32;(February 11th, 1999). </entry>
</reflist>
</p>

</sec>
<sec>
<st>
External links</st>
<p>

<list>
<entry level="1" type="bullet">

<weblink xlink:type="simple" xlink:href="http://www.faqs.org/docs/Linux-HOWTO/Filesystems-HOWTO.html">
The filesystems howto</weblink></entry>
<entry level="1" type="bullet">

<weblink xlink:type="simple" xlink:href="http://www.geocities.com/jadoxa/doslfn/">
Current version of DOSLFN</weblink></entry>
<entry level="1" type="bullet">

<weblink xlink:type="simple" xlink:href="http://www-user.tu-chemnitz.de/~heha/hs_freeware/freew.html">
Original Author of DOSLFN</weblink></entry>
<entry level="1" type="bullet">

<weblink xlink:type="simple" xlink:href="http://www.dsteiner.com/products/software/os2/vfat.htm">
VFAT OS2 Provides LFN support under OS2</weblink></entry>
</list>
</p>


</sec>
</bdy>
</article>
