<?xml version="1.0" encoding="UTF-8"?>
<!-- generated by CLiX/Wiki2XML [MPI-Inf, MMCI@UdS] $LastChangedRevision: 92 $ on 16.04.2009 19:54:19[mciao0826] -->
<!DOCTYPE article SYSTEM "../article.dtd">
<article xmlns:xlink="http://www.w3.org/1999/xlink">
<header>
<title>Operating system-level virtualization</title>
<id>2770340</id>
<revision>
<id>237787330</id>
<timestamp>2008-09-11T20:34:26Z</timestamp>
<contributor>
<username>Xanderdad</username>
<id>3582966</id>
</contributor>
</revision>
<categories>
<category>Operating system security</category>
<category>Operating system technology</category>
<category>Virtualization software</category>
</categories>
</header>
<bdy>

<b>Operating system-level <link xlink:type="simple" xlink:href="../356/18311356.xml">
virtualization</link></b> is where the <link xlink:type="simple" xlink:href="../394/50394.xml">
kernel</link> of an <link xlink:type="simple" xlink:href="../194/22194.xml">
operating system</link> allows for multiple isolated user-space instances (instead of just one). Such instances (often called containers, VEs, VPSs or jails) look and feel like a real server, from the point of view of its owner. On Unix systems, this technology can be thought of as an advanced extension of the standard <link xlink:type="simple" xlink:href="../308/585308.xml">
chroot</link> mechanism. In addition to containerization mechanisms, kernel often provides some additional group-based resource management, to keep the containers within the limits.
<sec>
<st>
 Uses </st>
<p>

Operating system-level virtualization is commonly used in <link xlink:type="simple" xlink:href="../617/407617.xml">
virtual hosting</link> environments, where it is useful for securely allocating finite hardware resources amongst a large number of mutually-distrusting users.  It is also used, to a lesser extent, for consolidating server hardware by moving services on separate hosts into containers on the one server.</p>
<p>

Other typical scenarios include separating several applications to separate containers for improved security, hardware independence, and added resource management features.</p>
<p>

OS-level virtualization implementations that are capable of live migration can be used for dynamic load balancing of containers between nodes in a cluster.</p>

</sec>
<sec>
<st>
 Advantages and disadvantages </st>

<ss1>
<st>
 Overhead </st>
<p>

This form of virtualization usually imposes little or no overhead, because programs in virtual partition use the operating system's normal <link xlink:type="simple" xlink:href="../908/102908.xml">
system call</link> interface and do not need to be subject to <link xlink:type="simple" xlink:href="../558/1042558.xml">
emulation</link> or run in an intermediate virtual machine, as is the case with with whole-system virtualizers (such as <company wordnetid="108058098" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../018/312018.xml">
VMware</link></company>
 and <physical_entity wordnetid="100001930" confidence="0.8">
<person wordnetid="100007846" confidence="0.8">
<copycat wordnetid="109964411" confidence="0.8">
<causal_agent wordnetid="100007347" confidence="0.8">
<link xlink:type="simple" xlink:href="../669/1465669.xml">
QEMU</link></causal_agent>
</copycat>
</person>
</physical_entity>
) or <link xlink:type="simple" xlink:href="../546/1441546.xml">
paravirtualizers</link> (such as <software wordnetid="106566077" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../852/590852.xml">
Xen</link></software>
 and <link xlink:type="simple" xlink:href="../697/373697.xml">
UML</link>).  It also does not require hardware assistance to perform efficiently.</p>

</ss1>
<ss1>
<st>
 Flexibility </st>
<p>

Operating system-level virtualization is not as flexible as other virtualization approaches since it cannot host a guest operating system different from the host one, or a different guest kernel. For example, with Linux, different distributions are fine, but other OS such as Windows cannot be hosted. This limitation is partially overcome in Solaris Containers by its <link>
branded zones</link> feature, which provides the ability to run an environment within a container that emulates a Linux 2.4-based release or an older Solaris release.</p>

</ss1>
<ss1>
<st>
 Storage </st>
<p>

Some operating-system virtualizers provide file-level copy-on-write mechanisms.  (Most commonly, a standard file system is shared between partitions, and partitions which change the files automatically create their own copies.)  This is easier to back up, more space-efficient and simpler to cache than the block-level copy-on-write schemes common on whole-system virtualizers.  Whole-system virtualizers, however, can work with non-native file systems and create and roll back snapshots of the entire system state.</p>

</ss1>
<ss1>
<st>
 Example restrictions inside the container </st>
<p>

The following actions are often prohibited:
<list>
<entry level="1" type="bullet">

 Modifying the running kernel by direct access and loading kernel modules.</entry>
<entry level="1" type="bullet">

 Mounting and dismounting file systems.</entry>
<entry level="1" type="bullet">

 Creating device nodes.</entry>
<entry level="1" type="bullet">

 Accessing raw, divert, or routing sockets.</entry>
<entry level="1" type="bullet">

 Modifying kernel runtime parameters, such as most sysctl settings.</entry>
<entry level="1" type="bullet">

 Changing securelevel-related file flags.</entry>
<entry level="1" type="bullet">

 Accessing network resources not associated with the jail.</entry>
</list>
</p>

</ss1>
</sec>
<sec>
<st>
 Implementations </st>
<p>

<table style="font-size: 85%; text-align: center; width: 100%" class="wikitable">
<row>
<header rowspan="2">
Mechanism</header>
<header rowspan="2">
Operating system</header>
<header rowspan="2">
License</header>
<header rowspan="2">
Release date</header>
<header colspan="7">
Features</header>
</row>
<row>
<header>
File system isolation</header>
<header>
Disk quotas</header>
<header>
I/O rate limiting</header>
<header>
Memory limits</header>
<header>
CPU quotas</header>
<header>
Network isolation</header>
<header>
Partition checkpointing  and live migration</header>
</row>
<row>
<col>
<link xlink:type="simple" xlink:href="../308/585308.xml">
chroot</link></col>
<col>
most <link xlink:type="simple" xlink:href="../815/31815.xml">
UNIX-like</link>operating systems</col>
<col>
Proprietary
<link>
BSD</link><p>

<link>
GNU GPL</link>
<link xlink:type="simple" xlink:href="../631/1245631.xml">
CDDL</link></p>
</col>
<col>
1982</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
</row>
<row>
<col>
<link xlink:type="simple" xlink:href="../558/3753558.xml">
FreeVPS</link></col>
<col>
<O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../297/6097297.xml">
Linux</link></O>
</col>
<col>
<link>
GNU GPL</link></col>
<col>
-</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
</row>
<row>
<col>
<link>
iCore Computer 3-in-1</link></col>
<col>
<version wordnetid="107173585" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../879/33879.xml">
Windows XP</link></version>
</col>
<col>
<link xlink:type="simple" xlink:href="../148/166148.xml">
Proprietary</link></col>
<col>
06/2008</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
</row>
<row>
<col>
<software wordnetid="106566077" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../526/1191526.xml">
Linux-VServer</link></software>
(security context)</col>
<col>
<O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../297/6097297.xml">
Linux</link></O>
</col>
<col>
<link>
GNU GPL v.2</link></col>
<col>
-</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background: #ffffdd; color: black;" class="table-partial">
Yes/No <ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%221%22])">1</ref></col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
</row>
<row>
<col>
<software wordnetid="106566077" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../089/5211089.xml">
OpenVZ</link></software>
(virtualization, isolation and resource management)</col>
<col>
<O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../297/6097297.xml">
Linux</link></O>
</col>
<col>
<link>
GNU GPL v.2</link></col>
<col>
-</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes <ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%222%22])">2</ref></col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%223%22])">3</ref></col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
</row>
<row>
<col>
<software wordnetid="106566077" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../664/2143664.xml">
Parallels Virtuozzo Containers</link></software>
</col>
<col>
<O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../297/6097297.xml">
Linux</link></O>
, <link xlink:type="simple" xlink:href="../890/18890.xml">
Windows</link></col>
<col>
<link>
Proprietary</link></col>
<col>
-</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes <ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%224%22])">4</ref></col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%223%22])">3</ref></col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
</row>
<row>
<col>
<link xlink:type="simple" xlink:href="../334/5097334.xml">
Container/Zone</link></col>
<col>
<link xlink:type="simple" xlink:href="../145/46145.xml">
Solaris</link></col>
<col>
<link xlink:type="simple" xlink:href="../631/1245631.xml">
CDDL</link></col>
<col>
01/2005</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%223%22])">3</ref></col>
<col style="background:#ff9090; color:black;" class="table-no">
No<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%225%22])">5</ref></col>
</row>
<row>
<col>
<link xlink:type="simple" xlink:href="../109/2469109.xml">
FreeBSD Jail</link></col>
<col>
<platform wordnetid="103961939" confidence="0.8">
<artifact wordnetid="100021939" confidence="0.8">
<surface wordnetid="104362025" confidence="0.8">
<horizontal_surface wordnetid="103536348" confidence="0.8">
<link xlink:type="simple" xlink:href="../554/7580554.xml">
FreeBSD</link></horizontal_surface>
</surface>
</artifact>
</platform>
</col>
<col>
<link>
BSD</link></col>
<col>
03/2000</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
</row>
<row>
<col>
<link xlink:type="simple" xlink:href="../408/6766408.xml">
sysjail</link></col>
<col>
<O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../571/18949571.xml">
OpenBSD</link></O>
, <link xlink:type="simple" xlink:href="../495/21495.xml">
NetBSD</link></col>
<col>
<link>
BSD</link></col>
<col>
-</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#ff9090; color:black;" class="table-no">
No</col>
</row>
<row>
<col>
<artifact wordnetid="100021939" confidence="0.8">
<instrumentality wordnetid="103575240" confidence="0.8">
<device wordnetid="103183080" confidence="0.8">
<link xlink:type="simple" xlink:href="../071/15696071.xml">
WPARs</link></device>
</instrumentality>
</artifact>
</col>
<col>
<link xlink:type="simple" xlink:href="../ury/22nd_century.xml">
AIX</link></col>
<col>
Proprietary</col>
<col>
10/2007</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col>
-</col>
<col>
-</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
<col>
-</col>
<col style="background:#90ff90; color:black;" class="table-yes">
Yes</col>
</row>
</table>
</p>



<ss1>
<st>
 Notes </st>
<p>

<reflist>
<entry id="1">
Utilizing the CFQ scheduler, you get a separate queue per guest. Actually, the I/O queue is a per-process, not per-guest. So containers can still have arbitrary amount of disk I/O.</entry>
<entry id="2">
Available since kernel 2.6.18-028stable021. Implementation is based on CFQ disk I/O scheduler, but it is a two-level schema, so I/O priority is not per-process, but rather per-container. See <weblink xlink:type="simple" xlink:href="http://wiki.openvz.org/I/O_priorities_for_VE">
OpenVZ wiki: I/O priorities for VE</weblink> for details.</entry>
<entry id="3">
Network is not isolated, but rather virtualized, meaning each virtual environment can have its own IP addresses, firewall rules, routing tables and so on.
Solaris Containers have isolated networks when a dedicated NIC is assigned to the container ("exclusive IP") or if using the IP Instances capability currently available in OpenSolaris.
See <link xlink:type="simple" xlink:href="../035/14167035.xml">
OpenSolaris Network Virtualization and Resource Control</link> and <weblink xlink:type="simple" xlink:href="http://www.opensolaris.org/os/project/crossbow/faq/">
Network Virtualization and Resource Control (Crossbow) FAQ</weblink> for details.
</entry>
<entry id="4">
Available since version 4.0, January 2008.</entry>
<entry id="5">
Cold migration (shutdown-move-restart) is implemented.</entry>
</reflist>
</p>

</ss1>
</sec>
<sec>
<st>
 External links </st>
<p>

<list>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://www.kernelthread.com/publications/virtualization/">
An introduction to Virtualization</weblink></entry>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://wiki.openvz.org/Introduction_to_virtualization">
A short intro to three different virtualization techniques</weblink></entry>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://kvm.qumranet.com/kvmwiki">
KVM (Kernel-based Virtual Machine)</weblink></entry>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://linux-vserver.org/Linux-VServer-Paper">
Linux-VServer Wiki</weblink></entry>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://openvz.org/">
OpenVZ</weblink></entry>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://ncl.cs.columbia.edu/research/migrate/">
Zap</weblink></entry>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://www.freevps.com">
FreeVPS</weblink></entry>
</list>
</p>



</sec>
</bdy>
</article>
