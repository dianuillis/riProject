<?xml version="1.0" encoding="UTF-8"?>
<!-- generated by CLiX/Wiki2XML [MPI-Inf, MMCI@UdS] $LastChangedRevision: 92 $ on 16.04.2009 20:36:21[mciao0826] -->
<!DOCTYPE article SYSTEM "../article.dtd">
<article xmlns:xlink="http://www.w3.org/1999/xlink">
<O  confidence="0.9508927676800064" wordnetid="106832680">
<header>
<title>A/ROSE</title>
<id>3658789</id>
<revision>
<id>217778242</id>
<timestamp>2008-06-07T17:04:27Z</timestamp>
<contributor>
<username>Ghettoblaster</username>
<id>6603820</id>
</contributor>
</revision>
<categories>
<category>Apple Inc. software</category>
<category>Apple Inc. operating systems</category>
<category>Embedded operating systems</category>
</categories>
</header>
<bdy>
<template>
<name>Infobox OS</name>
<parameters>
<supported_platforms>
Macintosh Coprocessor Platform for <link xlink:type="simple" xlink:href="../979/19006979.xml">
Apple Macintosh</link> (<chip wordnetid="103020034" confidence="0.8">
<artifact wordnetid="100021939" confidence="0.8">
<instrumentality wordnetid="103575240" confidence="0.8">
<microprocessor wordnetid="103760310" confidence="0.8">
<conductor wordnetid="103088707" confidence="0.8">
<device wordnetid="103183080" confidence="0.8">
<semiconductor_device wordnetid="104171831" confidence="0.8">
<link xlink:type="simple" xlink:href="../270/20270.xml">
Motorola 68000</link></semiconductor_device>
</device>
</conductor>
</microprocessor>
</instrumentality>
</artifact>
</chip>
)</supported_platforms>
<working_state>
Historic</working_state>
<released>
February 1988</released>
<developer>
<link xlink:type="simple" xlink:href="../856/856.xml">
Apple Computer</link></developer>
<family>
<link xlink:type="simple" xlink:href="../359/230359.xml">
Embedded operating system</link>s</family>
<name>
A/ROSE</name>
</parameters>
</template>


<b>A/ROSE</b> (the <it>Apple Real-time Operating System Environment</it>) was a small <link xlink:type="simple" xlink:href="../359/230359.xml">
embedded operating system</link> which ran on <link xlink:type="simple" xlink:href="../856/856.xml">
Apple Computer</link>'s <b>Macintosh Coprocessor Platform</b>, an <link xlink:type="simple" xlink:href="../022/75022.xml">
expansion card</link> for the <link xlink:type="simple" xlink:href="../979/19006979.xml">
Apple Macintosh</link>. The idea was to offer a single "overdesigned" hardware platform on which 3rd party vendors could build practically any product, reducing the otherwise heavy workload of developing a <link xlink:type="simple" xlink:href="../332/125332.xml">
NuBus</link>-based <link xlink:type="simple" xlink:href="../022/75022.xml">
expansion card</link>. However, the MCP cards were fairly expensive, limiting the appeal of the concept. A/ROSE saw very little use, apparently limited solely to Apple's own networking cards for serial I/O, <link xlink:type="simple" xlink:href="../168/7016168.xml">
TokenRing</link> and <link xlink:type="simple" xlink:href="../134/6526134.xml">
Twinax</link>.<p>

A/ROSE and the MCP originally came about in August 1987 during the gestation of the <computer wordnetid="103082979" confidence="0.8">
<artifact wordnetid="100021939" confidence="0.8">
<instrumentality wordnetid="103575240" confidence="0.8">
<device wordnetid="103183080" confidence="0.8">
<machine wordnetid="103699975" confidence="0.8">
<fabric wordnetid="103309808" confidence="0.8">
<mackintosh wordnetid="103703590" confidence="0.8">
<link xlink:type="simple" xlink:href="../113/177113.xml">
Macintosh II</link></mackintosh>
</fabric>
</machine>
</device>
</instrumentality>
</artifact>
</computer>
 project. While working on various networking products for the new system, the developers realized that the existing <link xlink:type="simple" xlink:href="../043/20043.xml">
Mac OS</link> would make any "serious" card difficult to create, due to large latencies and the difficultly of writing complex <link xlink:type="simple" xlink:href="../101/9101.xml">
device driver</link>s. Their solution was to make an "intelligent" NuBus card that was essentially an entire computer on a card, containing its own <chip wordnetid="103020034" confidence="0.8">
<artifact wordnetid="100021939" confidence="0.8">
<instrumentality wordnetid="103575240" confidence="0.8">
<microprocessor wordnetid="103760310" confidence="0.8">
<conductor wordnetid="103088707" confidence="0.8">
<device wordnetid="103183080" confidence="0.8">
<semiconductor_device wordnetid="104171831" confidence="0.8">
<link xlink:type="simple" xlink:href="../270/20270.xml">
Motorola 68000</link></semiconductor_device>
</device>
</conductor>
</microprocessor>
</instrumentality>
</artifact>
</chip>
 processor, working space in RAM mirrored in the main system, and its own basic operating system. The first version of the system was ready for use in February 1988.</p>
<p>

A/ROSE itself was very small, the kernel using only 6k, and the operating system as a whole about 28k. A/ROSE supported pre-emptive multitasking with round-robin task scheduling with a 110 microsecond <link xlink:type="simple" xlink:href="../904/6904.xml">
context switch</link> time and only 20 microseconds of latency (guaranteed interrupt response time). The system's task was primarily to move data around and start and stop tasks on the cards, and the entire <link xlink:type="simple" xlink:href="../ury/24th_century.xml">
API</link> contained only ten calls.</p>
<p>

A/ROSE was a <link xlink:type="simple" xlink:href="../867/1324867.xml">
message passing</link> system, and the main calls made by programs running under it were Send() and Receive(). Messages were short, including only 24 bytes of user data, and sent asynchronously. To find the appropriate endpoint, A/ROSE included a name server that allowed the applications to bind their names to their task ID's, allowing them to move in the system and be found dynamically. The OS also supported a number of routines for finding, starting and stopping tasks on other cards, one of those "cards" being the host computer.</p>
<p>

To coordinate communications and provide a mechanism for talking with the host's CPU, a cut-down copy of A/ROSE also ran inside the <link xlink:type="simple" xlink:href="../043/20043.xml">
Mac OS</link> in the form of a <pause wordnetid="115271008" confidence="0.8">
<extension wordnetid="115272382" confidence="0.8">
<time_interval wordnetid="115269513" confidence="0.8">
<delay wordnetid="115272029" confidence="0.8">
<link xlink:type="simple" xlink:href="../447/1757447.xml">
system extension</link></delay>
</time_interval>
</extension>
</pause>
, or "init", known as <b>Prep</b> (which can be confused with the later <link xlink:type="simple" xlink:href="../440/861440.xml">
PReP</link> hardware standard). Device drivers for A/ROSE cards were also written as inits and started up automatically. After starting they would find the Prep stub and use the normal A/ROSE communications channel it provided to communicate with the cards.</p>
<p>

For instance, the Apple TokenTalk NB card installed its driver as an init, and optionally installed the Prep stub, assuming it had not been installed before. On startup the driver would find the Prep stub and ask it to enumerate the TokenTalk cards installed in the machine, and optionally upload code or settings to them. From that point on, Prep handled the communications with the card, handing off the results to the TokenTalk driver.</p>

<sec>
<st>
References</st>
<p>

<list>
<entry level="1" type="bullet">

<weblink xlink:type="simple" xlink:href="http://www.mactech.com/articles/develop/issue_04/coprocessor.html">
Inside The Macintosh Coprocessor Platform And A/ROSE</weblink></entry>
</list>
</p>

<p>

<table style=";" class="navbox" cellspacing="0">
<row>
<col style="padding:2px;">
<table style="width:100%;background:transparent;color:inherit;;" class="nowraplinks collapsible autocollapse " cellspacing="0">
<row>
<header colspan="2" style=";" class="navbox-title">
<link xlink:type="simple" xlink:href="../194/22194.xml">
Operating systems</link> by <company wordnetid="108058098" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../856/856.xml">
Apple Inc.</link></company>
</header>
</row>
<row style="height:2px;">

</row>
<row>
<col colspan="2" style="width:100%;padding:0px;;;" class="navbox-list navbox-odd">
<O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../789/3658789.xml">
A/ROSE</link></O>
&nbsp;·  <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../604/238604.xml">
A/UX</link></O>
&nbsp;·  <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../848/253848.xml">
Apple DOS</link></O>
&nbsp;·  <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../157/290157.xml">
Apple GS/OS</link></O>
&nbsp;·  <link xlink:type="simple" xlink:href="../290/1052290.xml">
Apple Newton OS</link>&nbsp;·  <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../838/253838.xml">
Apple ProDOS</link></O>
&nbsp;·  <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../308/255308.xml">
Apple SOS</link></O>
&nbsp;·  <link xlink:type="simple" xlink:href="../520/532520.xml">
Copland</link>&nbsp;·  <link xlink:type="simple" xlink:href="../076/53076.xml">
Darwin</link>&nbsp;·  <link xlink:type="simple" xlink:href="../443/16161443.xml">
iPhone OS</link>&nbsp;·  <computer wordnetid="103082979" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../118/77118.xml#xpointer(//*[./st=%22Software%22])">
Lisa OS</link></computer>
&nbsp;·  <link xlink:type="simple" xlink:href="../043/20043.xml">
Mac OS</link>&nbsp;·  <link xlink:type="simple" xlink:href="../640/20640.xml">
Mac OS X</link>&nbsp;·  <link xlink:type="simple" xlink:href="../086/47086.xml">
Mac OS X Server</link>&nbsp;·  <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../761/547761.xml">
MkLinux</link></O>
&nbsp;·  <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../421/1553421.xml">
Rhapsody</link></O>
&nbsp;·  <company wordnetid="108058098" confidence="0.8">
<institution wordnetid="108053576" confidence="0.8">
<link xlink:type="simple" xlink:href="../989/89989.xml">
Taligent</link></institution>
</company>
</col>
</row>
</table>
</col>
</row>
</table>
</p>


</sec>
</bdy>
</O>
</article>
