<?xml version="1.0" encoding="UTF-8"?>
<!-- generated by CLiX/Wiki2XML [MPI-Inf, MMCI@UdS] $LastChangedRevision: 92 $ on 16.04.2009 15:40:58[mciao0825] -->
<!DOCTYPE article SYSTEM "../article.dtd">
<article xmlns:xlink="http://www.w3.org/1999/xlink">
<idea  confidence="0.8" wordnetid="105833840">
<concept  confidence="0.8" wordnetid="105835747">
<category  confidence="0.8" wordnetid="105838765">
<type  confidence="0.8" wordnetid="105840188">
<kind  confidence="0.8" wordnetid="105839024">
<header>
<title>Karplus-Strong string synthesis</title>
<id>44714</id>
<revision>
<id>230292600</id>
<timestamp>2008-08-06T22:48:35Z</timestamp>
<contributor>
<username>Kevin k</username>
<id>762817</id>
</contributor>
</revision>
<categories>
<category>Sound synthesis types</category>
<category>Sound_production_technology</category>
<category>Sound technology</category>
</categories>
</header>
<bdy>

<b>Karplus-Strong string synthesis</b> is a method of <link xlink:type="simple" xlink:href="../441/42441.xml">
physical modelling synthesis</link> that loops a short waveform through a filtered delay line to simulate the sound of a hammered or plucked <link xlink:type="simple" xlink:href="../076/50076.xml">
string</link> or some types of <link>
percussion</link>.
Although it is useful to view this as a <link xlink:type="simple" xlink:href="../503/28503.xml">
subtractive synthesis</link> technique based on a <link xlink:type="simple" xlink:href="../545/11545.xml">
feedback loop</link> similar to that of a <link xlink:type="simple" xlink:href="../685/1044685.xml">
comb filter</link> for <link xlink:type="simple" xlink:href="../589/171589.xml">
z-transform</link> analysis, it is better viewed as the simplest of a class of <link xlink:type="simple" xlink:href="../310/175310.xml">
wavetable</link>-modification algorithms now known as <link xlink:type="simple" xlink:href="../989/378989.xml">
digital waveguide synthesis</link>, as the delay line acts to store one period of the signal.<p>

Alexander Strong invented the algorithm, and <link xlink:type="simple" xlink:href="../776/18750776.xml">
Kevin Karplus</link> did the first analysis of how it worked.  Together they developed software and hardware implementations of the algorithm, including a custom VLSI chip. They named the algorithm "Digitar" synthesis, as an abbreviation for "digital guitar".</p>


<sec>
<st>
 How it works </st>
<p>

<image location="center" width="150px" src="Karplus-strong-schematic.png">
</image>
</p>
<p>

<list>
<entry level="1" type="number">

 A short excitation waveform (of length L samples) is generated. In the original algorithm, this was a burst of <link xlink:type="simple" xlink:href="../182/46182.xml">
white noise</link>, but it can also include any <link xlink:type="simple" xlink:href="../794/863794.xml">
wideband</link> signal, such as a rapid <link xlink:type="simple" xlink:href="../749/324749.xml">
sine wave</link> <link>
frequency sweep</link> or a single cycle of a <link xlink:type="simple" xlink:href="../147/52147.xml">
sawtooth wave</link> or <link xlink:type="simple" xlink:href="../652/314652.xml">
square wave</link>.</entry>
<entry level="1" type="number">

 This excitation is output and simultaneously fed back into a <link xlink:type="simple" xlink:href="../014/41014.xml">
delay line</link> L samples long.</entry>
<entry level="1" type="number">

 The output of the delay line is fed through a <link xlink:type="simple" xlink:href="../157/370157.xml">
filter</link>.  The <link xlink:type="simple" xlink:href="../968/41968.xml">
gain</link> of the filter must be less than 1 at all frequencies, and the filter is usually a first-order lowpass filter (as pictured).  In the original algorithm, the filter consisted of averaging two adjacent samples, a particularly cheap filter that can be done without a multiplier (just shift and add operations).</entry>
<entry level="1" type="number">

 The filtered output is simultaneously mixed back into the output and fed back into the delay line.</entry>
</list>
</p>

</sec>
<sec>
<st>
 Tuning the string </st>
<p>

The <link xlink:type="simple" xlink:href="../522/22522.xml">
period</link> of the resulting signal is the period of the delay line plus the average <link xlink:type="simple" xlink:href="../222/41222.xml">
group delay</link> of the filter; the <link xlink:type="simple" xlink:href="../490/11490.xml">
fundamental frequency</link>, as usual, is the <link xlink:type="simple" xlink:href="../940/229940.xml">
reciprocal</link> of the period.  The required delay <it>D</it> for a given fundamental frequency <it>F</it>1 is therefore calculated according to <it>D</it> = <it>Fs</it>/<it>F</it>1 where <it>Fs</it> is the sampling frequency.  </p>
<p>

The length of any digital delay line is a whole-number multiple of the sampling period.  In order to obtain a <link>
fractional delay</link>, <link xlink:type="simple" xlink:href="../569/14569.xml">
interpolating filters</link> are used with parameters selected to obtain an appropriate group delay at the fundamental frequency.  Either <link xlink:type="simple" xlink:href="../140/570140.xml">
IIR</link> or <link xlink:type="simple" xlink:href="../101/443101.xml">
FIR</link> filters may be used, however FIR have the advantage that transients are suppressed if the fractional delay is changed over time. The most elementary fractional delay is the <link xlink:type="simple" xlink:href="../010/160010.xml">
linear interpolation</link> between two samples (e.g., <it>s</it>(4.2) = 0.8<it>s</it>(4) + 0.2<it>s</it>(5)).  If the group delay varies too much with frequency, <link xlink:type="simple" xlink:href="../232/41232.xml">
harmonic</link>s may be sharpened or flattened relative to the fundamental frequency.  The original algorithm used equal weighting on two adjacent samples, as this can be achieved without multiplication hardware, allowing extremely cheap implementations.</p>
<p>

<link xlink:type="simple" xlink:href="../589/171589.xml">
Z-transform</link> analysis can be used to get the pitches and decay times of the harmonics more precisely, as explained in the 1983 paper that introduced the algorithm.</p>
<p>

A demonstration of the Karplus-Strong algorithm can be heard in the following <format wordnetid="106636806" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../489/32489.xml">
Vorbis</link></format>
 file.  The algorithm used a loop gain of 0.98 with increasingly attenuating first order lowpass filters.  The pitch of the note was A2, or 220 Hz. </p>

<p>

<image width="150px" src="Karplus-strong-A2.ogg">
<caption>

Karplus-Strong #1
</caption>
</image>

<image width="180px" src="Karplus-strong-A2.ogg">
<caption>

noicon
</caption>
</image>

<it>F</it>1 = 220Hz<it>Problems listening to the file? See .</it></p>

<p>

Holding the period (= length of the delay line) constant produces vibrations similar to those of a string or bell.  Increasing the period sharply after the transient input produces drum-like sounds.</p>

</sec>
<sec>
<st>
 Refinements to the algorithm </st>
<p>

Alex Strong and Kevin Karplus realized that the Karplus-Strong algorithm was physically analogous to a sampling of the transversal wave on a string instrument, with the filter in the feedback loop representing the total string losses over one period. <link>
Julius O. Smith III</link> <weblink xlink:type="simple" xlink:href="http://ccrma.stanford.edu/~jos/">
http://ccrma.stanford.edu/~jos/</weblink> and others 
generalized the algorithm to <link xlink:type="simple" xlink:href="../989/378989.xml">
digital waveguide synthesis</link>, which could also be used to model acoustic waves in tubes and on drum membranes.</p>
<p>

Alex Strong developed a superior wavetable-modification method for plucked-string synthesis, but only published it as a patent.</p>

</sec>
<sec>
<st>
 References </st>

<p>

<list>
<entry level="1" type="bullet">

  <cite style="font-style:normal">Kevin Karplus, Alex Strong&#32;(1983).&#32;"Digital Synthesis of Plucked String and Drum Timbres". <it>Computer Music Journal</it>&#32;<b>7</b>&#32;(2): 43–55.&#32;MIT Press. <document wordnetid="106470073" confidence="0.8">
<written_communication wordnetid="106349220" confidence="0.8">
<writing wordnetid="106362953" confidence="0.8">
<link xlink:type="simple" xlink:href="../994/422994.xml">
doi</link></writing>
</written_communication>
</document>
:<weblink xlink:type="simple" xlink:href="http://dx.doi.org/10.2307%2F3680062">
10.2307/3680062</weblink>.</cite>&nbsp;</entry>
</list>
</p>
<p>

<list>
<entry level="1" type="bullet">

  <cite style="font-style:normal">David A. Jaffe, Julius O. Smith&#32;(1983).&#32;"Extensions of the Karplus-Strong Plucked String Algorithm". <it>Computer Music Journal</it>&#32;<b>7</b>&#32;(2): 56–69.&#32;MIT Press. <document wordnetid="106470073" confidence="0.8">
<written_communication wordnetid="106349220" confidence="0.8">
<writing wordnetid="106362953" confidence="0.8">
<link xlink:type="simple" xlink:href="../994/422994.xml">
doi</link></writing>
</written_communication>
</document>
:<weblink xlink:type="simple" xlink:href="http://dx.doi.org/10.2307%2F3680063">
10.2307/3680063</weblink>.</cite>&nbsp;</entry>
</list>
</p>
<p>

<list>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://patft.uspto.gov/netacgi/nph-Parser?patentnumber=4649783">
US4,649,783</weblink> (<weblink xlink:type="simple" xlink:href="http://www.pat2pdf.org/pat2pdf/foo.pl?number=4649783">
PDF version</weblink>) (<link>
1987-03-17</link>) Alexander R. Strong, Kevin J. Karplus <it>Wavetable Modification Instrument and Method for Generating Musical Sound</it>&nbsp;</entry>
</list>
</p>

<p>

<list>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://patft.uspto.gov/netacgi/nph-Parser?patentnumber=4622877">
US4,622,877</weblink> (<weblink xlink:type="simple" xlink:href="http://www.pat2pdf.org/pat2pdf/foo.pl?number=4622877">
PDF version</weblink>) (<link>
1986-11-18</link>) Alexander R. Strong <it>Independently controlled wavetable-modification instrument and method for generating musical sound</it>&nbsp;</entry>
</list>
</p>
<p>

<list>
<entry level="1" type="bullet">

 Moore, F. Richard. <it>Elements of Computer Music</it>. Upper Saddle River: Prentice-Hall, 1990. ISBN 0-13-252552-6.</entry>
</list>
</p>

</sec>
<sec>
<st>
 External links </st>

<p>

<list>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://ccrma.stanford.edu/~jos/pasp/Karplus_Strong_Algorithm.html">
The Karplus-Strong Algorithm</weblink></entry>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://ccrma.stanford.edu/~jos/Mohonk05/Karplus_Strong_Algorithm.html">
Sound Examples</weblink></entry>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://freesound.iua.upf.edu/tagsViewSingle.php?id=2024">
More sound examples under CC license</weblink></entry>
</list>
</p>

<p>

<table style=";" class="navbox" cellspacing="0">
<row>
<col style="padding:2px;">
<table style="width:100%;background:transparent;color:inherit;;" class="nowraplinks collapsible autocollapse " cellspacing="0">
<row>
<header colspan="2" style=";background:#6699CC;color:white;" class="navbox-title">
Sound synthesis types</header>
</row>
<row style="height:2px;">

</row>
<row>
<col colspan="2" style=";background:#eee;" class="navbox-abovebelow">
<idea wordnetid="105833840" confidence="0.8">
<concept wordnetid="105835747" confidence="0.8">
<category wordnetid="105838765" confidence="0.8">
<type wordnetid="105840188" confidence="0.8">
<kind wordnetid="105839024" confidence="0.8">
<link xlink:type="simple" xlink:href="../569/11569.xml">
Frequency modulation synthesis</link></kind>
</type>
</category>
</concept>
</idea>
&nbsp;&#124; <idea wordnetid="105833840" confidence="0.8">
<concept wordnetid="105835747" confidence="0.8">
<category wordnetid="105838765" confidence="0.8">
<type wordnetid="105840188" confidence="0.8">
<kind wordnetid="105839024" confidence="0.8">
<link xlink:type="simple" xlink:href="../189/1170189.xml">
Phase distortion synthesis</link></kind>
</type>
</category>
</concept>
</idea>
&nbsp;&#124; <link xlink:type="simple" xlink:href="../392/4398392.xml">
Scanned synthesis</link>&nbsp;&#124; <idea wordnetid="105833840" confidence="0.8">
<concept wordnetid="105835747" confidence="0.8">
<category wordnetid="105838765" confidence="0.8">
<type wordnetid="105840188" confidence="0.8">
<kind wordnetid="105839024" confidence="0.8">
<link xlink:type="simple" xlink:href="../503/28503.xml">
Subtractive synthesis</link></kind>
</type>
</category>
</concept>
</idea>
&nbsp;&#124; <idea wordnetid="105833840" confidence="0.8">
<concept wordnetid="105835747" confidence="0.8">
<category wordnetid="105838765" confidence="0.8">
<type wordnetid="105840188" confidence="0.8">
<kind wordnetid="105839024" confidence="0.8">
<link xlink:type="simple" xlink:href="../ury/23rd_century.xml">
Additive synthesis</link></kind>
</type>
</category>
</concept>
</idea>
&nbsp;&#124; HCM synthesis&nbsp;&#124; <idea wordnetid="105833840" confidence="0.8">
<concept wordnetid="105835747" confidence="0.8">
<category wordnetid="105838765" confidence="0.8">
<type wordnetid="105840188" confidence="0.8">
<kind wordnetid="105839024" confidence="0.8">
<link xlink:type="simple" xlink:href="../142/5215142.xml">
Distortion synthesis</link></kind>
</type>
</category>
</concept>
</idea>
</col>
</row>
<row style="height:2px;">

</row>
<row>
<col style=";background:#eee;;" class="navbox-group">
<idea wordnetid="105833840" confidence="0.8">
<concept wordnetid="105835747" confidence="0.8">
<category wordnetid="105838765" confidence="0.8">
<type wordnetid="105840188" confidence="0.8">
<kind wordnetid="105839024" confidence="0.8">
<link xlink:type="simple" xlink:href="../291/297291.xml">
Sample-based synthesis</link></kind>
</type>
</category>
</concept>
</idea>
</col>
<col style="text-align:left;border-left:2px solid #fdfdfd;width:100%;padding:0px;;;" class="navbox-list navbox-odd">
<idea wordnetid="105833840" confidence="0.8">
<concept wordnetid="105835747" confidence="0.8">
<category wordnetid="105838765" confidence="0.8">
<type wordnetid="105840188" confidence="0.8">
<kind wordnetid="105839024" confidence="0.8">
<link xlink:type="simple" xlink:href="../310/175310.xml">
Wavetable synthesis</link></kind>
</type>
</category>
</concept>
</idea>
&nbsp;&#124; <idea wordnetid="105833840" confidence="0.8">
<concept wordnetid="105835747" confidence="0.8">
<category wordnetid="105838765" confidence="0.8">
<type wordnetid="105840188" confidence="0.8">
<kind wordnetid="105839024" confidence="0.8">
<link xlink:type="simple" xlink:href="../826/175826.xml">
Granular synthesis</link></kind>
</type>
</category>
</concept>
</idea>
 &nbsp;&#124; <idea wordnetid="105833840" confidence="0.8">
<concept wordnetid="105835747" confidence="0.8">
<category wordnetid="105838765" confidence="0.8">
<type wordnetid="105840188" confidence="0.8">
<kind wordnetid="105839024" confidence="0.8">
<link xlink:type="simple" xlink:href="../784/5587784.xml">
Vector synthesis</link></kind>
</type>
</category>
</concept>
</idea>
</col>
</row>
<row style="height:2px">

</row>
<row>
<col style=";background:#eee;;" class="navbox-group">
<idea wordnetid="105833840" confidence="0.8">
<concept wordnetid="105835747" confidence="0.8">
<category wordnetid="105838765" confidence="0.8">
<type wordnetid="105840188" confidence="0.8">
<kind wordnetid="105839024" confidence="0.8">
<link xlink:type="simple" xlink:href="../441/42441.xml">
Physical modelling synthesis</link></kind>
</type>
</category>
</concept>
</idea>
</col>
<col style="text-align:left;border-left:2px solid #fdfdfd;width:100%;padding:0px;;;" class="navbox-list navbox-even">
<link xlink:type="simple" xlink:href="../989/378989.xml">
Digital waveguide synthesis</link>&nbsp;&#124; <idea wordnetid="105833840" confidence="0.8">
<concept wordnetid="105835747" confidence="0.8">
<category wordnetid="105838765" confidence="0.8">
<type wordnetid="105840188" confidence="0.8">
<kind wordnetid="105839024" confidence="0.8">
<link xlink:type="simple" xlink:href="../714/44714.xml">
Karplus-Strong string synthesis</link></kind>
</type>
</category>
</concept>
</idea>
&nbsp;&#124; <link xlink:type="simple" xlink:href="../024/11024.xml">
Formant synthesis</link></col>
</row>
</table>
</col>
</row>
</table>
</p>


</sec>
</bdy>
</kind>
</type>
</category>
</concept>
</idea>
</article>
