<?xml version="1.0" encoding="UTF-8"?>
<!-- generated by CLiX/Wiki2XML [MPI-Inf, MMCI@UdS] $LastChangedRevision: 92 $ on 16.04.2009 17:10:54[mciao0827] -->
<!DOCTYPE article SYSTEM "../article.dtd">
<article xmlns:xlink="http://www.w3.org/1999/xlink">
<system  confidence="0.8" wordnetid="104377057">
<artifact  confidence="0.8" wordnetid="100021939">
<instrumentality  confidence="0.8" wordnetid="103575240">
<header>
<title>Hard link</title>
<id>496957</id>
<revision>
<id>232714737</id>
<timestamp>2008-08-18T16:26:24Z</timestamp>
<contributor>
<username>Kbrose</username>
<id>3938795</id>
</contributor>
</revision>
<categories>
<category>Disk file systems</category>
</categories>
</header>
<bdy>

In <link xlink:type="simple" xlink:href="../213/5213.xml">
computing</link>, a <b>hard link</b> is a directory reference, or pointer, to a file on a storage volume. The name associated with the file is simply a label stored in a directory structure that refers the operating system to the file data.  As such, more than one name can be associated with the same file.  When accessed through different names, any changes made will affect the same file data. Hard links can only refer to data that exists on the same file system.<p>

On <standard wordnetid="107260623" confidence="0.8">
<system_of_measurement wordnetid="113577171" confidence="0.8">
<link xlink:type="simple" xlink:href="../305/23305.xml">
POSIX</link></system_of_measurement>
</standard>
-compliant operating systems, such as all <family wordnetid="108078020" confidence="0.8">
<link xlink:type="simple" xlink:href="../815/31815.xml">
Unix-like</link></family>
 systems, hard links are created with the link() <link xlink:type="simple" xlink:href="../908/102908.xml">
system call</link>, or the <link xlink:type="simple" xlink:href="../650/305650.xml">
ln and link</link> command-line utilities.</p>
<p>

On <link xlink:type="simple" xlink:href="../890/18890.xml">
Microsoft Windows</link>, hard links can be created only on <system wordnetid="104377057" confidence="0.8">
<artifact wordnetid="100021939" confidence="0.8">
<instrumentality wordnetid="103575240" confidence="0.8">
<link xlink:type="simple" xlink:href="../184/39184.xml">
NTFS</link></instrumentality>
</artifact>
</system>
 volumes.  <it>mklink</it> under <link xlink:type="simple" xlink:href="../869/562869.xml">
Vista</link>, <it>fsutil hardlink</it>, and the <link xlink:type="simple" xlink:href="../650/305650.xml">
ln</link> command from <physical_entity wordnetid="100001930" confidence="0.8">
<communicator wordnetid="109610660" confidence="0.8">
<person wordnetid="100007846" confidence="0.8">
<copycat wordnetid="109964411" confidence="0.8">
<compiler wordnetid="109946957" confidence="0.8">
<causal_agent wordnetid="100007347" confidence="0.8">
<writer wordnetid="110794014" confidence="0.8">
<link xlink:type="simple" xlink:href="../840/6840.xml">
Cygwin</link></writer>
</causal_agent>
</compiler>
</copycat>
</person>
</communicator>
</physical_entity>
 are examples of tools that can be used to create them.</p>
<p>

The process of <it>unlinking</it> disassociates a name from the data on the volume without destroying the associated data.  The data is still accessible as long as at least one link that points to it still exists.  When the last link is removed, the space is considered free.  A process ambiguously called <link xlink:type="simple" xlink:href="../265/2079265.xml">
undeleting</link> allows the recreation of links to data that is no longer associated with a name.  However, this process is not available on all systems and is often not reliable.</p>

<sec>
<st>
Link counter</st>
<p>

Most <link xlink:type="simple" xlink:href="../280/1010280.xml">
file system</link>s that support hard links use <link xlink:type="simple" xlink:href="../490/26490.xml">
reference counting</link>.  An <link xlink:type="simple" xlink:href="../563/14563.xml">
integer</link> value is stored with each physical <link xlink:type="simple" xlink:href="../040/18985040.xml">
data</link> section.  This integer represents the total number of links that have been created to point to the data.  When a new link is created, this value is increased by one.  When a link is removed, the value is decreased by one. If the link count becomes zero, the operating system usually automatically deallocates the data space of the file if no process has the file opened for access. The maintenance of this value assists users in preventing data loss. This is a simple method for the file system to track the use of a given area of storage, as zero values indicate free space and nonzero values indicate used space.</p>
<p>

On <standard wordnetid="107260623" confidence="0.8">
<system_of_measurement wordnetid="113577171" confidence="0.8">
<link xlink:type="simple" xlink:href="../305/23305.xml">
POSIX</link></system_of_measurement>
</standard>
-compliant operating systems, such as many <family wordnetid="108078020" confidence="0.8">
<link xlink:type="simple" xlink:href="../642/31642.xml">
Unix</link></family>
-variants, the reference count for a file or directory is returned by the <standard wordnetid="107260623" confidence="0.8">
<system_of_measurement wordnetid="113577171" confidence="0.8">
<link xlink:type="simple" xlink:href="../765/920765.xml">
stat()</link></system_of_measurement>
</standard>
 or fstat() system calls in the st_nlink field of struct stat.  In contrast, <link xlink:type="simple" xlink:href="../015/23015.xml">
programming language</link> implementations that use reference counting rarely expose the reference count to the program being executed, since this information is just an implementation detail.</p>

</sec>
<sec>
<st>
Example</st>
<p>

<image location="right" width="150px" src="Hard_Link_Illustration.svg" type="frame">
<caption>

An illustration of the concept of hard linking.
</caption>
</image>

In the figure to the right, two hard links, named "LINK A.TXT" and "LINK B.TXT", point to the same physical data.</p>
<p>

If the filename "LINK A.TXT" is opened in an editor, modified and saved, then those changes will be visible even if the filename "LINK B.TXT" is opened for viewing since both filenames point to the same data. The same is true if the file were opened as "LINK B.TXT" - or any other name associated with the data.</p>
<p>

Any number of hard links to the physical data may be created.  To access the data, a user only needs to specify the name of any existing link; the operating system will resolve the location of the actual data.</p>
<p>

If one of the links is removed with the POSIX unlink function (for example, with the UNIX 'rm' command), then the data is still accessible through any other link that remains.  If all of the links are removed and no process has the file open, then the space occupied by the data is freed, allowing it to be reused in the future. This semantic allows for deleting open files without affecting the process that uses them.  This technique is commonly used to ensure that <link xlink:type="simple" xlink:href="../756/622756.xml">
temporary file</link>s are deleted automatically on program termination, including the case of abnormal termination.</p>

</sec>
<sec>
<st>
 Limitations of hard links </st>
<p>

Most modern operating systems don't allow hard links on directories to prevent endless recursion. A notable exception to this is <version wordnetid="107173585" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../664/2001664.xml">
Mac OS X v10.5</link></version>
 (Leopard).<ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%221%22])">1</ref></p>
<p>

Hard links can only be created to files on the same file system. If a link to a file on a different file system is needed, it may be created with a <link xlink:type="simple" xlink:href="../473/180473.xml">
symbolic link</link>.</p>

</sec>
<sec>
<st>
See also</st>
<p>

<list>
<entry level="1" type="bullet">

<system wordnetid="104377057" confidence="0.8">
<artifact wordnetid="100021939" confidence="0.8">
<instrumentality wordnetid="103575240" confidence="0.8">
<link xlink:type="simple" xlink:href="../473/180473.xml">
Symbolic link</link></instrumentality>
</artifact>
</system>
</entry>
<entry level="1" type="bullet">

<system wordnetid="104377057" confidence="0.8">
<artifact wordnetid="100021939" confidence="0.8">
<instrumentality wordnetid="103575240" confidence="0.8">
<link xlink:type="simple" xlink:href="../838/483838.xml">
NTFS junction point</link></instrumentality>
</artifact>
</system>
</entry>
<entry level="1" type="bullet">

<link xlink:type="simple" xlink:href="../672/720672.xml">
alias (Mac OS)</link></entry>
<entry level="1" type="bullet">

<link xlink:type="simple" xlink:href="../517/5463517.xml">
shadow (OS/2)</link></entry>
<entry level="1" type="bullet">

<link xlink:type="simple" xlink:href="../650/305650.xml">
ln (Unix)</link>&mdash;The ln command, which is used to create new links on Unix-like systems.</entry>
</list>
</p>

</sec>
<sec>
<st>
Notes</st>
<p>

<reflist>
<entry id="1">
Arstechnica <weblink xlink:type="simple" xlink:href="http://arstechnica.com/reviews/os/mac-os-x-10-5.ars/14">
 article </weblink>about Mac OS X hard links to directories.</entry>
</reflist>
</p>


</sec>
</bdy>
</instrumentality>
</artifact>
</system>
</article>
