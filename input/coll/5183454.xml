<?xml version="1.0" encoding="UTF-8"?>
<!-- generated by CLiX/Wiki2XML [MPI-Inf, MMCI@UdS] $LastChangedRevision: 92 $ on 16.04.2009 21:35:54[mciao0825] -->
<!DOCTYPE article SYSTEM "../article.dtd">
<article xmlns:xlink="http://www.w3.org/1999/xlink">
<header>
<title>Compound TCP</title>
<id>5183454</id>
<revision>
<id>243889505</id>
<timestamp>2008-10-08T13:59:55Z</timestamp>
<contributor>
<username>Kfir.lavi</username>
<id>8032831</id>
</contributor>
</revision>
<categories>
<category>TCP/IP</category>
</categories>
</header>
<bdy>

<b>Compound TCP</b> (CTCP) is a <company wordnetid="108058098" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../001/19001.xml">
Microsoft</link></company>
 algorithm that is part of the <version wordnetid="107173585" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../648/2289648.xml">
Windows Vista</link></version>
 and Window Server 2008 <link xlink:type="simple" xlink:href="../538/30538.xml">
TCP</link> stack.  It is designed to aggressively adjust the sender's <link xlink:type="simple" xlink:href="../382/4245382.xml">
congestion window</link> to optimise TCP for connections with large <link xlink:type="simple" xlink:href="../063/3586063.xml">
bandwidth-delay product</link>s while trying not to harm <link xlink:type="simple" xlink:href="../757/3421757.xml">
fairness</link> (as can occur with <link xlink:type="simple" xlink:href="../471/4091471.xml">
HSTCP</link>). It is also available for Windows XP and Windows Server 2003 via a hotfix. <ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%221%22])">1</ref>
<sec>
<st>
Principles of operation</st>
<p>

Like <message wordnetid="106598915" confidence="0.8">
<protocol wordnetid="106665108" confidence="0.8">
<standard wordnetid="107260623" confidence="0.8">
<direction wordnetid="106786629" confidence="0.8">
<rule wordnetid="106652242" confidence="0.8">
<system_of_measurement wordnetid="113577171" confidence="0.8">
<link xlink:type="simple" xlink:href="../066/746066.xml">
FAST TCP</link></system_of_measurement>
</rule>
</direction>
</standard>
</protocol>
</message>
 and <link xlink:type="simple" xlink:href="../265/2115265.xml">
TCP Vegas</link>, compound TCP uses estimates of queueing delay as a measure of congestion; if the queueing delay is small, it assumes that no links on its path are congested, and rapidly increases its rate.  However, unlike FAST and Vegas, it does not seek to maintain a constant number of packets queued.</p>
<p>

Compound TCP maintains two congestion windows: a regular <link xlink:type="simple" xlink:href="../769/3750769.xml">
AIMD</link> window and a delay-based window.  The size of the actual sliding window used is the sum of these two windows.  The AIMD window is increased the same way that <link>
TCP Reno</link> increases it.  If the delay is small, the delay-based window increases rapidly to improve the utilisation of the network.  Once queueing is experienced, the delay window graudally decreases to compensate for the increase in the AIMD window.  The aim is to keep their sum approximately constant, at what the algorithm estimates is the path's <link xlink:type="simple" xlink:href="../063/3586063.xml">
bandwidth-delay product</link>.  In particular, when queueing is detected, the delay-based window is reduced by the estimated queue size to avoid the problem of "persistent congestion" reported for FAST and Vegas.  Thus, unlike <message wordnetid="106598915" confidence="0.8">
<protocol wordnetid="106665108" confidence="0.8">
<standard wordnetid="107260623" confidence="0.8">
<direction wordnetid="106786629" confidence="0.8">
<rule wordnetid="106652242" confidence="0.8">
<system_of_measurement wordnetid="113577171" confidence="0.8">
<link xlink:type="simple" xlink:href="../207/8634207.xml">
TCP-Illinois</link></system_of_measurement>
</rule>
</direction>
</standard>
</protocol>
</message>
 and its precursor <link>
TCP Africa</link>, Compound TCP can reduce its window in response to delay.  This increases its fairness to Reno.</p>

</sec>
<sec>
<st>
Supported platforms</st>

<ss1>
<st>
Windows Vista/2008</st>
<p>

CTCP is enabled by default in computers running beta versions of Windows Server 2008 and disabled by default in computers running Windows Vista. CTCP can be enabled with the command:
netsh interface tcp set global congestionprovider=ctcp 
or disabled with the command:
netsh interface tcp set global congestionprovider=none </p>

</ss1>
<ss1>
<st>
Windows 2003 &amp; XP x64</st>
<p>

A hotfix is available that adds CTCP support to 64 bit Windows XP and Windows Server 2003. <ref xlink:type="simple" xlink:href="#xpointer(//reflist/entry[@id=%221%22])">1</ref></p>
<p>

The following registry key can be set to <b>1</b> to enable, or <b>0</b> to disable:
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters\TCPCongestionControl</p>

</ss1>
<ss1>
<st>
Linux</st>
<p>

In addition to Windows, CTCP has also been ported to <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../297/6097297.xml">
Linux</link></O>
 by Angelo P. Castellani.  A patch derived from this has been developed at Caltech, which includes CTCP's TUning By Emulation (TUBE).</p>

</ss1>
</sec>
<sec>
<st>
See also</st>
<p>

<list>
<entry level="1" type="bullet">

 <link xlink:type="simple" xlink:href="../471/1723471.xml">
TCP congestion avoidance algorithm</link></entry>
<entry level="1" type="bullet">

 <message wordnetid="106598915" confidence="0.8">
<protocol wordnetid="106665108" confidence="0.8">
<direction wordnetid="106786629" confidence="0.8">
<rule wordnetid="106652242" confidence="0.8">
<link xlink:type="simple" xlink:href="../470/309470.xml">
Explicit Congestion Notification</link></rule>
</direction>
</protocol>
</message>
</entry>
<entry level="1" type="bullet">

 <link xlink:type="simple" xlink:href="../538/30538.xml#xpointer(//*[./st=%22Development_of_TCP%22])">
Transmission Control Protocol#Development_of_TCP</link></entry>
</list>
</p>

</sec>
<sec>
<st>
 References </st>

<p>

<reflist>
<entry id="1">
 </entry>
</reflist>
</p>

</sec>
<sec>
<st>
 External links </st>
<p>

<list>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://tools.ietf.org/html/draft-sridharan-tcpm-ctcp-00">
Compound TCP Internet-Draft</weblink></entry>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://research.microsoft.com/research/pubs/view.aspx?type=Technical%20Report&amp;id=940">
"A Compound TCP Approach for High-speed and Long Distance Networks"</weblink> July 2005</entry>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://www.microsoft.com/technet/community/columns/cableguy/cg1105.mspx">
Performance Enhancements in the Next Generation TCP/IP Stack</weblink>, The Cable Guy</entry>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://research.microsoft.com/wn/ctcp.aspx">
The Compound TCP for High-speed and Long Distance Networks</weblink>, Microsoft Research publication</entry>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://www.networkperformancedaily.com/2006/12/vistas_tcpip_promises_and_peri.html">
Vista's TCP/IP Promises and Perils</weblink>, Article at Network Performance Daily</entry>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://netlab.caltech.edu/lachlan/ctcp">
Caltech's Compound TCP patch for Linux</weblink></entry>
<entry level="1" type="bullet">

 Enabling CTCP on 2003/XP x64: <weblink xlink:type="simple" xlink:href="http://blog.tiensivu.com/aaron/archives/1537-KB-949316-Add-Compound-TCP-CTCP-support-to-XP-and-Server-2003.html">
http://blog.tiensivu.com/aaron/archives/1537-KB-949316-Add-Compound-TCP-CTCP-support-to-XP-and-Server-2003.html</weblink>,<weblink xlink:type="simple" xlink:href="http://blog.tiensivu.com/aaron/archives/901-Compound-TCP-congestion-control-algorithm-in-Vista-can-make-lossyhigh-latency-connections-behave-better..html">
http://blog.tiensivu.com/aaron/archives/901-Compound-TCP-congestion-control-algorithm-in-Vista-can-make-lossyhigh-latency-connections-behave-better..html</weblink></entry>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://www.hamilton.ie/net/delay_tests_final.pdf">
Report on experimental evaluation of Compound TCP</weblink> <weblink xlink:type="simple" xlink:href="http://www.hamilton.ie">
Hamilton Institute</weblink> and <weblink xlink:type="simple" xlink:href="http://netlab.caltech.edu">
Caltech</weblink>, March 2008.</entry>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://www.comp.nus.edu.sg/~wuxiucha/research/reactive/publication/ctcp_study.pdf">
A simulation-based study of Compound TCP</weblink> July 14, 2008</entry>
</list>

</p>
</sec>
</bdy>
</article>
