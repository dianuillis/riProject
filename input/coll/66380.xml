<?xml version="1.0" encoding="UTF-8"?>
<!-- generated by CLiX/Wiki2XML [MPI-Inf, MMCI@UdS] $LastChangedRevision: 92 $ on 16.04.2009 15:48:35[mciao0828] -->
<!DOCTYPE article SYSTEM "../article.dtd">
<article xmlns:xlink="http://www.w3.org/1999/xlink">
<O  confidence="0.9508927676800064" wordnetid="106832680">
<header>
<title>TOPS-20</title>
<id>66380</id>
<revision>
<id>239064097</id>
<timestamp>2008-09-17T17:25:58Z</timestamp>
<contributor>
<username>Dissident</username>
<id>42935</id>
</contributor>
</revision>
<categories>
<category>DEC Operating Systems</category>
</categories>
</header>
<bdy>
<template>
<name>Infobox_OS</name>
<parameters>
<ui>
<link xlink:type="simple" xlink:href="../707/6707.xml">
Command line interface</link></ui>
<supported_platforms>
<link xlink:type="simple" xlink:href="../628/23628.xml">
PDP-10</link></supported_platforms>
<latest_release_version>
?</latest_release_version>
<package_manager>
?</package_manager>
<latest_release_date>
?</latest_release_date>
<marketing_target>
?</marketing_target>
<kernel_type>
?</kernel_type>
<working_state>
Discontinued</working_state>
<developer>
<company wordnetid="108058098" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../952/7952.xml">
Digital Equipment Corporation</link></company>
</developer>
<family>
DEC OS family</family>
<updatemodel>
?</updatemodel>
<name>
TOPS-20</name>
<source_model>
?</source_model>
<language>
<link xlink:type="simple" xlink:href="../368/1368.xml">
Assembler</link>, <system wordnetid="104377057" confidence="0.8">
<artifact wordnetid="100021939" confidence="0.8">
<instrumentality wordnetid="103575240" confidence="0.8">
<link xlink:type="simple" xlink:href="../261/390261.xml">
BLISS</link></instrumentality>
</artifact>
</system>
, <link xlink:type="simple" xlink:href="../168/11168.xml">
FORTRAN</link>, <link xlink:type="simple" xlink:href="../015/4015.xml">
BASIC-20</link>, et al</language>
<license>
<link xlink:type="simple" xlink:href="../886/18934886.xml">
Proprietary</link></license>
</parameters>
</template>


The <b>TOPS-20</b> <link xlink:type="simple" xlink:href="../194/22194.xml">
operating system</link> by <company wordnetid="108058098" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../952/7952.xml">
Digital Equipment Corporation</link></company>
 (DEC) was the second proprietary OS for the <link xlink:type="simple" xlink:href="../628/23628.xml">
PDP-10</link>.  It was preferred by most PDP-10 users over TOPS-10 (at least by those who were not <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../349/298349.xml">
ITS</link></O>
 or <link xlink:type="simple" xlink:href="../290/309290.xml">
WAITS</link> partisans). TOPS-20 began in <link xlink:type="simple" xlink:href="../610/34610.xml">
1969</link> as <link xlink:type="simple" xlink:href="../539/252539.xml">
Bolt, Beranek and Newman</link>'s <b>TENEX</b> operating system, using special paging hardware. The system is almost entirely unrelated to the similarly-named <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../607/529607.xml">
TOPS-10</link></O>
 but shipped with the PA1050 TOPS-10 Monitor Calls emulation facility which allowed most, but not all, TOPS-10 executables to run unchanged. As a matter of policy DEC did not update PA1050 to support later TOPS-10 additions except where required by DEC software.
<sec>
<st>
TENEX</st>
<p>

In the <link xlink:type="simple" xlink:href="../545/34545.xml">
1960s</link> <company wordnetid="108058098" confidence="0.8">
<institution wordnetid="108053576" confidence="0.8">
<link xlink:type="simple" xlink:href="../539/252539.xml">
BBN</link></institution>
</company>
 was involved in a number of <link xlink:type="simple" xlink:href="../016/18016.xml">
LISP</link>-based <link xlink:type="simple" xlink:href="../164/1164.xml">
artificial intelligence</link> projects for <agency wordnetid="108337324" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../957/8957.xml">
DARPA</link></agency>
, many of which had very large (for the era) memory requirements. One solution to this problem was to add <it><link xlink:type="simple" xlink:href="../193/311193.xml">
paging</link></it> software to the <link xlink:type="simple" xlink:href="../016/18016.xml">
LISP</link> language, allowing it to write out unused portions of memory to disk for later recall if needed. One such system had been developed for the <computer wordnetid="103082979" confidence="0.8">
<artifact wordnetid="100021939" confidence="0.8">
<instrumentality wordnetid="103575240" confidence="0.8">
<device wordnetid="103183080" confidence="0.8">
<machine wordnetid="103699975" confidence="0.8">
<link xlink:type="simple" xlink:href="../965/23965.xml">
PDP-1</link></machine>
</device>
</instrumentality>
</artifact>
</computer>
 at <link xlink:type="simple" xlink:href="../061/19061.xml">
MIT</link> by <physical_entity wordnetid="100001930" confidence="0.8">
<person wordnetid="100007846" confidence="0.8">
<causal_agent wordnetid="100007347" confidence="0.8">
<scientist wordnetid="110560637" confidence="0.8">
<link xlink:type="simple" xlink:href="../105/4445105.xml">
Daniel Murphy</link></scientist>
</causal_agent>
</person>
</physical_entity>
 before he joined BBN. Early <company wordnetid="108058098" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../952/7952.xml">
DEC</link></company>
 machines were based on an <information wordnetid="105816287" confidence="0.8">
<datum wordnetid="105816622" confidence="0.8">
<link xlink:type="simple" xlink:href="../244/16569244.xml">
18-bit</link></datum>
</information>
 word, allowing addresses to encode for a 262kword memory. The machines were based on expensive <link>
core memory</link> and included nowhere near the required amount.  The pager used the otherwise unused bits of the address to store a key into a table of blocks on a <link xlink:type="simple" xlink:href="../961/146961.xml">
magnetic drum</link> that acted as the pager's <it>backing store</it>, and the software would fetch the pages if needed and then re-write the address to point to the proper area of <link xlink:type="simple" xlink:href="../847/25847.xml">
RAM</link>.</p>
<p>

In 1964 DEC announced the <link xlink:type="simple" xlink:href="../822/218822.xml">
PDP-6</link>. DEC was still heavily involved with MIT's AI Lab, and many feature requests from the LISP hackers were moved into this machine. BBN became interested in buying one for their AI work when they became available, but wanted DEC to add a hardware version of Murphy's pager directly into the system. With such an addition, every program on the system would have paging support invisibly, making it much easier to do any sort of programming on the machine. DEC was initially interested, but soon (1966) announced they were in fact dropping the PDP-6 and concentrating solely on their smaller 18-bit and new 16-bit lines. The PDP-6 was expensive and complex, and had not sold well for these reasons.</p>
<p>

It wasn't long until it became clear that DEC was once again entering the <link xlink:type="simple" xlink:href="../064/920064.xml">
36-bit</link> business with what would become the <link xlink:type="simple" xlink:href="../628/23628.xml">
PDP-10</link>. BBN started talks with DEC to get a paging subsystem in the new machine, then known by its CPU name, the KA-10. DEC was not terribly interested. However, one development of these talks was the inclusion of two dual memory areas, allowing all programs to be divided into a protected (<it>exec</it> in DEC-speak) portion and a user portion. Additionally, DEC was firm on keeping the cost of the machine as low as possible, including only 16K words of core and placing <link xlink:type="simple" xlink:href="../432/486432.xml">
register</link>s in RAM, resulting in a considerable performance decrease.</p>
<p>

BBN nevertheless went ahead with its purchase of several PDP-10s, and decided to build their own hardware pager. During this period a debate began on what operating system to run on the new machines. Strong arguments were made for the continued use of TOPS-10, in order to keep their existing software running with minimum effort. This would require a re-write of TOPS to support the paging system, and this seemed like a major problem. At the same time, TOPS did not support a number of features the developers wanted. In the end they decided to make a new system, but include an emulation library that would allow it to run existing TOPS-10 software with minor effort.</p>
<p>

The new system, soon known as TENEX, also included a full <link xlink:type="simple" xlink:href="../354/32354.xml">
virtual memory</link> system -- that is, not only could programs access a full 262kwords of memory, <it>every</it> program could do so at the same time. The pager system would handle mapping as it would always, copying data to and from the backing store as needed. The only change needed was for the pager to be able to hold several sets of mappings between RAM and store, one for each program using the system. The pager also held access time information in order to tune performance. The resulting pager was fairly complex, filling a full-height 19" rackmount chassis.</p>
<p>

One notable feature of TENEX was its user-oriented <link xlink:type="simple" xlink:href="../915/71915.xml">
command line interpreter</link>. Unlike typical systems of the era, TENEX deliberately used long command names and even included <it>noise words</it> to further expand the commands for clarity. For instance, Unix uses ls to print a list of files in a directory, whereas TENEX used DIRECTORY (OF FILES). "DIRECTORY" was the command word, "(OF FILES)" was noise added to make the purpose of the command clearer. Of course users didn't want to type these long commands, so TENEX used an <it><link xlink:type="simple" xlink:href="../640/925640.xml">
escape recognition</link></it> system that would expand partial command words into completed words or phrases. For instance, the user could type DIR and the escape key, at which point TENEX would replace DIR with the full command. The same feature worked with file names, which took some effort on the part of the interpreter, and the system allowed for long file names with human-readable descriptions. TENEX also included a help system that could be invoked by typing the question mark (?), which would print out a list of possible matching commands and then return the user to the command line with the question mark removed.</p>
<p>

TENEX became fairly popular in the small PDP-10 market, and the external pager hardware developed into a small business of its own. In early 1970 DEC started work on an upgrade to the PDP-10 processor, the KI-10. BBN once again attempted to get DEC to support a full hardware paging system, but instead DEC decided on a much simpler system. This plan eventually backfired; by this point TENEX was one of the most popular PDP-10 operating systems, and it would not run on the new machines. Known as the <b>DECsystem-10</b> in the marketplace, the normal operating system was TOPS-10, which did not include any sort of virtual memory system.</p>

</sec>
<sec>
<st>
TOPS-20</st>
<p>

Learning from this mistake, the DEC sales manager in charge of the PDP-10 line managed to purchase the rights to TENEX from BBN and set up a project to port it to the new machine. At around this time Murphy moved from BBN to DEC as well, helping on the porting project. Most of the work centered on emulating the BBN pager hardware in a combination of software  and the KI-10's simpler hardware. The speed of the KI-10 compared to the PDP-6 made this possible. Additionally the porting effort required a number of new <link xlink:type="simple" xlink:href="../101/9101.xml">
device driver</link>s to support the newer backing store devices being used.</p>
<p>

Just as the new TENEX was shipping, DEC started work on the KL-10, intended to be a low-cost version of the KI-10. While this was going on, <university wordnetid="108286163" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../977/26977.xml">
Stanford University</link></university>
 AI-programmers, many of them MIT alumni, were working on their own project to build a PDP-10 that was ten times faster than the original KA-10's. DEC visited them and many of their ideas were then folded into the KL-10 project. The same year IBM also announced their own machine with virtual memory, making it a standard requirement for any computer. In the end the KL integrated a number of major changes to the system, but did not end up being any lower in cost. From the start, the new <b><link xlink:type="simple" xlink:href="../629/23629.xml">
DECSYSTEM-20</link></b> would run a version of TENEX as its default operating system.</p>
<p>

Extensions for the new machine were limited, but difficult. The main upgrade was the addition of <it>extended addressing</it>, which allowed the machine to support a 23-bit address space. The extra addressing bits were "added" by the pager hardware, which was now implemented in <link xlink:type="simple" xlink:href="../999/19999.xml">
microcode</link>. The extra bits allowed multiple pages to be mapped into the same physical hardware, which also allowed the system to support a wider range of RAM without it being "obvious". For <link xlink:type="simple" xlink:href="../459/4459.xml">
backward compatibility</link>, the machine included instructions that could generate 18-bit addresses on demand.</p>
<p>

The first in-house code name for the operating system was VIROS (VIRtual memory Operating System); when customers started asking questions, the name was changed to SNARK so that DEC could truthfully deny that there was any project called VIROS. When the name SNARK became known, the name was briefly reversed to become KRANS; this was quickly abandoned when someone objected that "" meant "funeral wreath" in <language wordnetid="106282651" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../689/26689.xml">
Swedish</link></language>
 (though it simply means "wreath"; this part of the story may be apocryphal).</p>
<p>

Ultimately DEC picked TOPS-20 as the name of the operating system, and it was as TOPS-20 that it was marketed. The hacker community, mindful of its origins, quickly dubbed it <b>TWENEX</b> (a contraction of "twenty TENEX"), even though by this point very little of the original TENEX code remained (analogously to the differences between <company wordnetid="108058098" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../269/17555269.xml">
AT&amp;T</link></company>
 V7 Unix and <link xlink:type="simple" xlink:href="../807/1223807.xml">
BSD</link>). DEC people cringed when they heard "TWENEX", but the term caught on nevertheless (the written abbreviation "20x" was also used).</p>
<p>

TWENEX was successful and very popular; in fact, there was a period in the early <link xlink:type="simple" xlink:href="../557/34557.xml">
1980s</link> when it commanded as fervent a culture of partisans as <family wordnetid="108078020" confidence="0.8">
<link xlink:type="simple" xlink:href="../642/31642.xml">
Unix</link></family>
 or ITS - but DEC's decision to scrap all the internal rivals to the <link xlink:type="simple" xlink:href="../517/32517.xml">
VAX</link> architecture and its <link xlink:type="simple" xlink:href="../736/32736.xml">
VMS</link> OS killed the DEC-20 and put an end to TWENEX's brief period of popularity. DEC attempted to convince TOPS-20 users to convert to VMS, but instead, by the late <link xlink:type="simple" xlink:href="../557/34557.xml">
1980s</link>, most of the TOPS-20 hackers had migrated to Unix.</p>

</sec>
<sec>
<st>
Further reading</st>
<p>

<list>
<entry level="1" type="bullet">

 <it>Storage Organization and Management in TENEX</it>.   Daniel L. Murphy.  AFIPS Proceedings, 1972 FJCC.</entry>
<entry level="1" type="bullet">

 <it>Implementation of TENEX on the KI10</it>.   Daniel L. Murphy.  TENEX Panel Session, NCC 1974.</entry>
</list>
</p>

</sec>
<sec>
<st>
Source</st>
<p>

<list>
<entry level="1" type="bullet">

 Some text in this article was taken from The Jargon File entry on "<weblink xlink:type="simple" xlink:href="http://catb.org/~esr/jargon/html/T/TWENEX.html">
TWENEX</weblink>", which is in the .</entry>
</list>
</p>

</sec>
<sec>
<st>
References</st>
<p>

<list>
<entry level="1" type="bullet">

 Daniel G. Bobrow, Jerry D. Burchfiel, Daniel L. Murphy, Raymond S.  Tomlinson, <it><weblink xlink:type="simple" xlink:href="http://www.linique.com/dlm/tenex/tenex72.txt">
TENEX, A Paged Time Sharing System for the PDP-10</weblink></it> (<it>Communications of the ACM</it>, Vol. 15, pp. 135-143, March 1972)</entry>
</list>
</p>

</sec>
<sec>
<st>
External links</st>
<p>

<list>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://tenex.opost.com/hbook.html">
Origins and Development of TOPS-20</weblink> is an excellent longer history</entry>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://panda.com/tops-20/">
Panda Programming TOPS-20 Home Page</weblink> maintains a mailing list for TOPS-20 news</entry>
<entry level="1" type="bullet">

 <weblink xlink:type="simple" xlink:href="http://www.twenex.org/">
SDF Public Access TWENEX</weblink></entry>
</list>
</p>

<p>

<table style=";" class="navbox" cellspacing="0">
<row>
<col style="padding:2px;">
<table style="width:100%;background:transparent;color:inherit;;" class="nowraplinks collapsible autocollapse " cellspacing="0">
<row>
<header colspan="2" style=";" class="navbox-title">
<link xlink:type="simple" xlink:href="../194/22194.xml">
Operating systems</link> by <company wordnetid="108058098" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../952/7952.xml">
Digital Equipment Corporation</link></company>
</header>
</row>
<row style="height:2px;">

</row>
<row>
<col colspan="2" style="width:100%;padding:0px;;;" class="navbox-list navbox-odd">
<O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../798/12513798.xml">
DEC BATCH-11/DOS-11</link></O>
&nbsp;·  <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../736/32736.xml">
OpenVMS</link></O>
&nbsp;·  <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../134/254134.xml">
OS/8</link></O>
&nbsp;·  <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../899/313899.xml">
RSTS/E</link></O>
&nbsp;·  <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../342/62342.xml">
RSX-11</link></O>
&nbsp;·  <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../309/69309.xml">
RT-11</link></O>
&nbsp;·  <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../607/529607.xml">
TOPS-10</link></O>
&nbsp;·  <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../380/66380.xml">
TOPS-20</link></O>
&nbsp;·  <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../275/38275.xml">
Tru64 UNIX</link></O>
&nbsp;·  <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../318/12724318.xml">
TSS-8</link></O>
&nbsp;·  <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../671/198671.xml">
Ultrix</link></O>
&nbsp;·  <O wordnetid="106832680" confidence="0.9508927676800064">
<link xlink:type="simple" xlink:href="../285/2845285.xml">
VAXELN</link></O>
</col>
</row>
</table>
</col>
</row>
</table>
</p>



</sec>
</bdy>
</O>
</article>
